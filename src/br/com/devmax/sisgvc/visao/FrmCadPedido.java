/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * FrmCadPerfil.java
 *
 * Created on 06/07/2011, 10:36:34
 */
package br.com.devmax.sisgvc.visao;

import br.com.devmax.sisgvc.controle.Controle;
import br.com.devmax.sisgvc.daos.BrindePedidoDAO;
import br.com.devmax.sisgvc.daos.ClienteDAO;
import br.com.devmax.sisgvc.daos.EquipeDAO;
import br.com.devmax.sisgvc.daos.FuncionarioDAO;
import br.com.devmax.sisgvc.daos.ItemPedidoDAO;
import br.com.devmax.sisgvc.daos.PedidoDAO;
import br.com.devmax.sisgvc.daos.ProdutoDAO;
import br.com.devmax.sisgvc.modelo.AuditoriaPedidoBean;
import br.com.devmax.sisgvc.modelo.BrindePedidoBean;
import br.com.devmax.sisgvc.modelo.ClienteBean;
import br.com.devmax.sisgvc.modelo.EquipeBean;
import br.com.devmax.sisgvc.modelo.FuncionarioBean;
import br.com.devmax.sisgvc.modelo.ItemPedidoBean;
import br.com.devmax.sisgvc.modelo.MotivoPerdaBean;
import br.com.devmax.sisgvc.modelo.PedidoBean;
import br.com.devmax.sisgvc.modelo.ProdutoBean;
import br.com.devmax.sisgvc.modelo.StatusVendaBean;
import br.com.devmax.sisgvc.modelo.Utilidades;
import java.awt.Color;
import java.awt.KeyboardFocusManager;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import java.math.BigDecimal;
import java.sql.Date;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.List;
import javax.swing.ComboBoxModel;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JFormattedTextField;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.ListSelectionModel;
import javax.swing.SwingUtilities;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Maxwell
 */
public class FrmCadPedido extends javax.swing.JDialog {

    /**
     * Creates new form FrmCadPerfil
     */
    public FrmCadPedido(java.awt.Frame parent, boolean modal, PedidoBean pedido) {
        super(parent, modal);
        initComponents();
        inicializarTela(pedido);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lbNumeroPedido = new javax.swing.JLabel();
        tfNumeroPedido = new javax.swing.JTextField();
        pnCabecalhoPedido = new javax.swing.JPanel();
        lbEquie = new javax.swing.JLabel();
        cbEquipe = new javax.swing.JComboBox();
        lbVededor = new javax.swing.JLabel();
        cbVendedor = new javax.swing.JComboBox();
        lbCliente = new javax.swing.JLabel();
        cbCliente = new javax.swing.JComboBox();
        lbLogradouro = new javax.swing.JLabel();
        tfLogradouro = new javax.swing.JTextField();
        lbNumero = new javax.swing.JLabel();
        tfNumero = new javax.swing.JTextField();
        lbBairro = new javax.swing.JLabel();
        tfBairro = new javax.swing.JTextField();
        lbCidade = new javax.swing.JLabel();
        tfCidade = new javax.swing.JTextField();
        lbUf = new javax.swing.JLabel();
        tfUf = new javax.swing.JTextField();
        btEditEquipe = new javax.swing.JButton();
        btEditCliente = new javax.swing.JButton();
        btEditVendedor = new javax.swing.JButton();
        lbDataEntrega = new javax.swing.JLabel();
        ftfDataEntrega = new javax.swing.JFormattedTextField();
        ftfDataVencimento = new javax.swing.JFormattedTextField();
        lbDataVencimento = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        tfCorCasa = new javax.swing.JTextField();
        tfNFrente = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        tfNLado = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        tfReferencia = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        tfApelido = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        btSalvarPedido = new javax.swing.JButton();
        tfTelefone = new javax.swing.JFormattedTextField();
        lbTelefone = new javax.swing.JLabel();
        tfCelular = new javax.swing.JFormattedTextField();
        jLabel25 = new javax.swing.JLabel();
        painelTabulado = new javax.swing.JTabbedPane();
        pnItensVeda = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tbItensVenda = new javax.swing.JTable();
        painelBotoesItensVenda = new javax.swing.JPanel();
        jToolBar2 = new javax.swing.JToolBar();
        btIncluirItem = new javax.swing.JButton();
        btEditarItem = new javax.swing.JButton();
        btExcluirItem = new javax.swing.JButton();
        btSalvarItem = new javax.swing.JButton();
        lbCodigoI = new javax.swing.JLabel();
        ftfCodigoI = new javax.swing.JFormattedTextField();
        lbDiscriminacaoI = new javax.swing.JLabel();
        cbDiscriminacaoI = new javax.swing.JComboBox();
        lbConsignado = new javax.swing.JLabel();
        ftfConsignado = new javax.swing.JFormattedTextField();
        lbVendido = new javax.swing.JLabel();
        ftfVendido = new javax.swing.JFormattedTextField();
        lbDevolvido = new javax.swing.JLabel();
        ftfDevolvido = new javax.swing.JFormattedTextField();
        lbUnitario = new javax.swing.JLabel();
        ftfVlUnitario = new javax.swing.JFormattedTextField();
        lbvlTotal = new javax.swing.JLabel();
        ftfVlTotal = new javax.swing.JFormattedTextField();
        btEditProduto = new javax.swing.JButton();
        pnBrindes = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        tbBrindes = new javax.swing.JTable();
        lbCodigoB = new javax.swing.JLabel();
        ftfCodigoB = new javax.swing.JFormattedTextField();
        lbDiscriminacaoB = new javax.swing.JLabel();
        cbDiscriminacaoB = new javax.swing.JComboBox();
        lbQuantidade = new javax.swing.JLabel();
        ftfQuantidade = new javax.swing.JFormattedTextField();
        lbUnitarioB = new javax.swing.JLabel();
        ftfValorBrinde = new javax.swing.JFormattedTextField();
        lbvlTotalB = new javax.swing.JLabel();
        ftfVlTotalBbrinde = new javax.swing.JFormattedTextField();
        painelBotoesBrindes = new javax.swing.JPanel();
        jToolBar3 = new javax.swing.JToolBar();
        btIncluirBrinde = new javax.swing.JButton();
        btEditarBrinde = new javax.swing.JButton();
        btExcluirBrinde = new javax.swing.JButton();
        btSalvarBrinde = new javax.swing.JButton();
        btAddProduto = new javax.swing.JButton();
        lbTotalConsignado = new javax.swing.JLabel();
        tfTotalConsignado = new javax.swing.JTextField();
        lbTotalVendido = new javax.swing.JLabel();
        tfTotalVendido = new javax.swing.JTextField();
        lbTotalBrindes = new javax.swing.JLabel();
        tfTotalBrindes = new javax.swing.JTextField();
        lbVlTotalConsignado = new javax.swing.JLabel();
        tfVlTotalConsignado = new javax.swing.JTextField();
        lbVlTotalVendido = new javax.swing.JLabel();
        tfVlTotalVendido = new javax.swing.JTextField();
        lbVlTotalBrindes = new javax.swing.JLabel();
        tfVlTotalBrindes = new javax.swing.JTextField();
        lbDevolvidos = new javax.swing.JLabel();
        tfTotalDevolvidos = new javax.swing.JTextField();
        btPerda = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        lbVlTotalPedido2 = new javax.swing.JLabel();
        tfSubtotal = new javax.swing.JTextField();
        lbVlTotalPedido = new javax.swing.JLabel();
        tfVlTotalPedido = new javax.swing.JTextField();
        lbVlTotalPedido1 = new javax.swing.JLabel();
        tfVlbrindesProdutos = new javax.swing.JTextField();
        ftfDesconto = new javax.swing.JFormattedTextField();
        lbDesconto = new javax.swing.JLabel();
        lbValorRecebido = new javax.swing.JLabel();
        ftfValorRecebido = new javax.swing.JFormattedTextField();
        lbVlTotalVendido1 = new javax.swing.JLabel();
        tfVlTotalDevolvido = new javax.swing.JTextField();
        btNovo = new javax.swing.JButton();
        lbStatus = new javax.swing.JLabel();
        tfStatus = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        ftfdtparcela1 = new javax.swing.JFormattedTextField();
        ftfvlparcela1 = new javax.swing.JFormattedTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        ftfdtparcela2 = new javax.swing.JFormattedTextField();
        ftfvlparcela2 = new javax.swing.JFormattedTextField();
        jLabel11 = new javax.swing.JLabel();
        ftfdtparcela3 = new javax.swing.JFormattedTextField();
        ftfvlparcela3 = new javax.swing.JFormattedTextField();
        jLabel12 = new javax.swing.JLabel();
        ftfdtparcela4 = new javax.swing.JFormattedTextField();
        ftfvlparcela4 = new javax.swing.JFormattedTextField();
        jLabel13 = new javax.swing.JLabel();
        ftfdtparcela5 = new javax.swing.JFormattedTextField();
        ftfvlparcela5 = new javax.swing.JFormattedTextField();
        jLabel14 = new javax.swing.JLabel();
        ftfdtparcela6 = new javax.swing.JFormattedTextField();
        ftfvlparcela6 = new javax.swing.JFormattedTextField();
        jLabel15 = new javax.swing.JLabel();
        ftfdtparcela7 = new javax.swing.JFormattedTextField();
        ftfvlparcela7 = new javax.swing.JFormattedTextField();
        jLabel16 = new javax.swing.JLabel();
        ftfdtparcela8 = new javax.swing.JFormattedTextField();
        ftfvlparcela8 = new javax.swing.JFormattedTextField();
        jLabel17 = new javax.swing.JLabel();
        ftfdtparcela9 = new javax.swing.JFormattedTextField();
        ftfvlparcela9 = new javax.swing.JFormattedTextField();
        jLabel18 = new javax.swing.JLabel();
        ftfdtparcela10 = new javax.swing.JFormattedTextField();
        ftfvlparcela10 = new javax.swing.JFormattedTextField();
        ftfdtparcela11 = new javax.swing.JFormattedTextField();
        ftfvlparcela11 = new javax.swing.JFormattedTextField();
        jLabel19 = new javax.swing.JLabel();
        ftfdtparcela12 = new javax.swing.JFormattedTextField();
        jLabel20 = new javax.swing.JLabel();
        ftfvlparcela12 = new javax.swing.JFormattedTextField();
        ftfvlparcela13 = new javax.swing.JFormattedTextField();
        jLabel21 = new javax.swing.JLabel();
        ftfdtparcela13 = new javax.swing.JFormattedTextField();
        ftfdtparcela14 = new javax.swing.JFormattedTextField();
        jLabel22 = new javax.swing.JLabel();
        ftfvlparcela14 = new javax.swing.JFormattedTextField();
        ftfvlparcela15 = new javax.swing.JFormattedTextField();
        ftfdtparcela15 = new javax.swing.JFormattedTextField();
        jLabel23 = new javax.swing.JLabel();
        btDevolucao = new javax.swing.JButton();
        btLocalizar = new javax.swing.JButton();
        pnPerda = new javax.swing.JPanel();
        lbPerda = new javax.swing.JLabel();
        cbPerda = new javax.swing.JComboBox();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("SISGVC - Sistema Gerenciador de Vendas por Consignação");
        addWindowFocusListener(new java.awt.event.WindowFocusListener() {
            public void windowGainedFocus(java.awt.event.WindowEvent evt) {
                formWindowGainedFocus(evt);
            }
            public void windowLostFocus(java.awt.event.WindowEvent evt) {
            }
        });
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                formWindowClosing(evt);
            }
        });

        lbNumeroPedido.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbNumeroPedido.setText("Pedido de Venda Nº");

        tfNumeroPedido.setEditable(false);
        tfNumeroPedido.setBackground(new java.awt.Color(255, 255, 204));
        tfNumeroPedido.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfNumeroPedido.setForeground(new java.awt.Color(153, 0, 0));
        tfNumeroPedido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        pnCabecalhoPedido.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        lbEquie.setText("Equipe:");

        cbEquipe.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                cbEquipeMouseReleased(evt);
            }
        });

        lbVededor.setText("Vendedor:");

        cbVendedor.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                cbVendedorMouseReleased(evt);
            }
        });

        lbCliente.setText("Cliente:");

        cbCliente.setEditable(true);
        cbCliente.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "cbxClientesModel" }));
        cbCliente.setSelectedIndex(-1);
        AutoCompletion.enable(cbCliente);
        cbCliente.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                cbClienteMouseReleased(evt);
            }
        });
        cbCliente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbClienteActionPerformed(evt);
            }
        });

        lbLogradouro.setText("Logradouro:");

        tfLogradouro.setEnabled(false);

        lbNumero.setText("Número:");

        tfNumero.setEnabled(false);

        lbBairro.setText("Cidade:");

        tfBairro.setEnabled(false);

        lbCidade.setText("Bairro:");

        tfCidade.setEnabled(false);

        lbUf.setText("UF:");

        tfUf.setEnabled(false);

        btEditEquipe.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditEquipe.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditEquipeActionPerformed(evt);
            }
        });

        btEditCliente.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditCliente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditClienteActionPerformed(evt);
            }
        });

        btEditVendedor.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditVendedor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditVendedorActionPerformed(evt);
            }
        });

        lbDataEntrega.setText("Dt. Entrega:");

        ftfDataEntrega.setBackground(new java.awt.Color(255, 255, 204));
        try {
            ftfDataEntrega.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfDataEntrega.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfDataVencimento.setBackground(new java.awt.Color(255, 255, 204));
        try {
            ftfDataVencimento.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfDataVencimento.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        lbDataVencimento.setText("Dt. Vencimento:");

        jLabel1.setText("Cor da casa:");

        tfCorCasa.setEnabled(false);

        tfNFrente.setEnabled(false);

        jLabel2.setText("Nº da casa à frente");

        tfNLado.setEnabled(false);

        jLabel3.setText("Nº da casa ao lado:");

        tfReferencia.setEnabled(false);

        jLabel4.setText("Ponto de referência:");

        tfApelido.setEnabled(false);

        jLabel5.setText("Apelido:");

        btSalvarPedido.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/file-save-16x16.png"))); // NOI18N
        btSalvarPedido.setText("Salvar Pedido");
        btSalvarPedido.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btSalvarPedidoActionPerformed(evt);
            }
        });

        tfTelefone.setEditable(false);
        try {
            tfTelefone.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("(##)####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        lbTelefone.setText("Telefone:");

        tfCelular.setEditable(false);
        try {
            tfCelular.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("(##)#########")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        jLabel25.setText("Celular:");

        javax.swing.GroupLayout pnCabecalhoPedidoLayout = new javax.swing.GroupLayout(pnCabecalhoPedido);
        pnCabecalhoPedido.setLayout(pnCabecalhoPedidoLayout);
        pnCabecalhoPedidoLayout.setHorizontalGroup(
            pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbLogradouro)
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addComponent(tfLogradouro, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbNumero)
                                    .addComponent(tfNumero, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(18, 18, 18)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tfBairro, javax.swing.GroupLayout.PREFERRED_SIZE, 202, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbCidade))
                        .addGap(18, 18, 18)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbBairro)
                            .addComponent(tfCidade, javax.swing.GroupLayout.PREFERRED_SIZE, 202, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(tfUf, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lbUf))
                        .addGap(18, 18, 18)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(tfCorCasa, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING))
                        .addGap(23, 23, 23)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(tfNFrente, javax.swing.GroupLayout.PREFERRED_SIZE, 94, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(21, 21, 21)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(tfNLado, javax.swing.GroupLayout.PREFERRED_SIZE, 94, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel4)
                                    .addComponent(tfReferencia, javax.swing.GroupLayout.PREFERRED_SIZE, 255, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(tfApelido, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel5))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(tfTelefone, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbTelefone))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel25)
                                    .addComponent(tfCelular, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbDataEntrega)
                                    .addComponent(ftfDataEntrega, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                        .addComponent(ftfDataVencimento, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(btSalvarPedido))
                                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                        .addComponent(lbDataVencimento)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbEquie)
                                    .addComponent(cbEquipe, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btEditEquipe, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                        .addComponent(cbVendedor, javax.swing.GroupLayout.PREFERRED_SIZE, 254, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(btEditVendedor, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(lbVededor))
                                .addGap(18, 18, 18)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbCliente)
                                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                        .addComponent(cbCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 260, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(btEditCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addContainerGap())))
        );

        pnCabecalhoPedidoLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {ftfDataEntrega, ftfDataVencimento});

        pnCabecalhoPedidoLayout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {cbEquipe, cbVendedor});

        pnCabecalhoPedidoLayout.setVerticalGroup(
            pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addComponent(lbVededor)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                            .addComponent(cbVendedor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btEditVendedor, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btEditEquipe, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addComponent(lbCliente)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                            .addComponent(btEditCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbCliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addComponent(lbEquie)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbEquipe, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(lbLogradouro)
                                    .addComponent(lbNumero)
                                    .addComponent(lbCidade))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(tfNumero, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfBairro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tfLogradouro, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addComponent(lbBairro)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tfCidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnCabecalhoPedidoLayout.createSequentialGroup()
                            .addComponent(lbUf)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(tfUf, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                            .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel1)
                                .addComponent(jLabel2))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(tfCorCasa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(tfNFrente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                            .addComponent(jLabel3)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(tfNLado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfReferencia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel5)
                                    .addComponent(lbTelefone))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED))
                            .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                                .addComponent(jLabel25)
                                .addGap(6, 6, 6)))
                        .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tfApelido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tfTelefone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(tfCelular, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(pnCabecalhoPedidoLayout.createSequentialGroup()
                            .addComponent(lbDataVencimento)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(pnCabecalhoPedidoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(ftfDataEntrega, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(ftfDataVencimento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btSalvarPedido)))
                        .addComponent(lbDataEntrega)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnItensVeda.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        tbItensVenda.setModel(tableModelItensVenda);
        jScrollPane2.setViewportView(tbItensVenda);

        jToolBar2.setFloatable(false);
        jToolBar2.setRollover(true);

        btIncluirItem.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/03.png"))); // NOI18N
        btIncluirItem.setMnemonic('I');
        btIncluirItem.setText("Incluir");
        btIncluirItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btIncluirItemActionPerformed(evt);
            }
        });
        jToolBar2.add(btIncluirItem);

        btEditarItem.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditarItem.setMnemonic('E');
        btEditarItem.setText("Editar");
        btEditarItem.setEnabled(false);
        btEditarItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditarItemActionPerformed(evt);
            }
        });
        jToolBar2.add(btEditarItem);

        btExcluirItem.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/04.png"))); // NOI18N
        btExcluirItem.setMnemonic('R');
        btExcluirItem.setText("Remover");
        btExcluirItem.setEnabled(false);
        btExcluirItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btExcluirItemActionPerformed(evt);
            }
        });
        jToolBar2.add(btExcluirItem);

        btSalvarItem.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/file-save-16x16.png"))); // NOI18N
        btSalvarItem.setMnemonic('S');
        btSalvarItem.setText("Salvar");
        btSalvarItem.setEnabled(false);
        btSalvarItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btSalvarItemActionPerformed(evt);
            }
        });
        jToolBar2.add(btSalvarItem);

        painelBotoesItensVenda.add(jToolBar2);

        lbCodigoI.setText("Código:");

        ftfCodigoI.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        ftfCodigoI.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfCodigoI.setEnabled(false);
        ftfCodigoI.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfCodigoI.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfCodigoIFocusLost(evt);
            }
        });

        lbDiscriminacaoI.setText("Discriminação:");

        cbDiscriminacaoI.setEditable(true);
        cbDiscriminacaoI.setEnabled(false);
        AutoCompletion.enable(cbDiscriminacaoI);
        cbDiscriminacaoI.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                cbDiscriminacaoIMouseReleased(evt);
            }
        });
        cbDiscriminacaoI.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbDiscriminacaoIActionPerformed(evt);
            }
        });

        lbConsignado.setText("Consignado:");

        ftfConsignado.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(java.text.NumberFormat.getIntegerInstance())));
        ftfConsignado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfConsignado.setText("0");
        ftfConsignado.setEnabled(false);
        ftfConsignado.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfConsignado.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfConsignadoFocusLost(evt);
            }
        });

        lbVendido.setText("Vendido:");

        ftfVendido.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        ftfVendido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfVendido.setText("0");
        ftfVendido.setEnabled(false);
        ftfVendido.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfVendido.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfVendidoFocusLost(evt);
            }
        });

        lbDevolvido.setText("Devolvido:");

        ftfDevolvido.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        ftfDevolvido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfDevolvido.setText("0");
        ftfDevolvido.setEnabled(false);
        ftfDevolvido.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        lbUnitario.setText("Valor Unit.:");

        ftfVlUnitario.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfVlUnitario.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfVlUnitario.setText("0,00");
        ftfVlUnitario.setEnabled(false);
        ftfVlUnitario.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfVlUnitario.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfVlUnitarioFocusLost(evt);
            }
        });

        lbvlTotal.setText("Valor Total:");

        ftfVlTotal.setEditable(false);
        ftfVlTotal.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfVlTotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfVlTotal.setText("0,00");
        ftfVlTotal.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfVlTotal.setFocusable(false);

        btEditProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditProduto.setEnabled(false);
        btEditProduto.setFocusable(false);
        btEditProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditProdutoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnItensVedaLayout = new javax.swing.GroupLayout(pnItensVeda);
        pnItensVeda.setLayout(pnItensVedaLayout);
        pnItensVedaLayout.setHorizontalGroup(
            pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnItensVedaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnItensVedaLayout.createSequentialGroup()
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 844, Short.MAX_VALUE)
                        .addContainerGap())
                    .addComponent(painelBotoesItensVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 262, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnItensVedaLayout.createSequentialGroup()
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbCodigoI)
                            .addComponent(ftfCodigoI, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnItensVedaLayout.createSequentialGroup()
                                .addComponent(lbDiscriminacaoI)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addComponent(cbDiscriminacaoI, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btEditProduto, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(lbConsignado, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(ftfConsignado, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbVendido)
                            .addComponent(ftfVendido, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbDevolvido)
                            .addComponent(ftfDevolvido, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbUnitario)
                            .addComponent(ftfVlUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(89, 89, 89)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbvlTotal)
                            .addComponent(ftfVlTotal, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(11, 11, 11))))
        );
        pnItensVedaLayout.setVerticalGroup(
            pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnItensVedaLayout.createSequentialGroup()
                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(btEditProduto, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(pnItensVedaLayout.createSequentialGroup()
                            .addGap(53, 53, 53)
                            .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(lbConsignado, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(lbVendido)
                                    .addComponent(lbDevolvido)
                                    .addComponent(lbUnitario)))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(ftfConsignado, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                                    .addComponent(ftfVendido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ftfDevolvido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ftfVlUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnItensVedaLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(painelBotoesItensVenda, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnItensVedaLayout.createSequentialGroup()
                                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(lbDiscriminacaoI)
                                    .addComponent(lbCodigoI))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnItensVedaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(ftfCodigoI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(cbDiscriminacaoI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(pnItensVedaLayout.createSequentialGroup()
                                .addComponent(lbvlTotal)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(ftfVlTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 173, Short.MAX_VALUE)
                .addContainerGap())
        );

        painelTabulado.addTab("Itens de Venda", pnItensVeda);

        pnBrindes.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        tbBrindes.setModel(tableModelBrindes);
        jScrollPane3.setViewportView(tbBrindes);

        lbCodigoB.setText("Código:");

        ftfCodigoB.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        ftfCodigoB.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfCodigoB.setEnabled(false);
        ftfCodigoB.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfCodigoB.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfCodigoBFocusLost(evt);
            }
        });

        lbDiscriminacaoB.setText("Discriminação:");

        cbDiscriminacaoB.setEnabled(false);
        cbDiscriminacaoB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbDiscriminacaoBActionPerformed(evt);
            }
        });

        lbQuantidade.setText("Quatidade:");

        ftfQuantidade.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(java.text.NumberFormat.getIntegerInstance())));
        ftfQuantidade.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfQuantidade.setText("0");
        ftfQuantidade.setEnabled(false);
        ftfQuantidade.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfQuantidade.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfQuantidadeFocusLost(evt);
            }
        });

        lbUnitarioB.setText("Valor:");

        ftfValorBrinde.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfValorBrinde.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfValorBrinde.setText("0,00");
        ftfValorBrinde.setEnabled(false);
        ftfValorBrinde.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfValorBrinde.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfValorBrindeFocusLost(evt);
            }
        });

        lbvlTotalB.setText("Valor Total:");

        ftfVlTotalBbrinde.setEditable(false);
        ftfVlTotalBbrinde.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfVlTotalBbrinde.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfVlTotalBbrinde.setText("0,00");
        ftfVlTotalBbrinde.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfVlTotalBbrinde.setFocusable(false);

        jToolBar3.setFloatable(false);
        jToolBar3.setRollover(true);

        btIncluirBrinde.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/03.png"))); // NOI18N
        btIncluirBrinde.setText("Incluir");
        btIncluirBrinde.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btIncluirBrindeActionPerformed(evt);
            }
        });
        jToolBar3.add(btIncluirBrinde);

        btEditarBrinde.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/7184_16x16.png"))); // NOI18N
        btEditarBrinde.setText("Editar");
        btEditarBrinde.setEnabled(false);
        btEditarBrinde.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditarBrindeActionPerformed(evt);
            }
        });
        jToolBar3.add(btEditarBrinde);

        btExcluirBrinde.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/04.png"))); // NOI18N
        btExcluirBrinde.setText("Remover");
        btExcluirBrinde.setEnabled(false);
        btExcluirBrinde.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btExcluirBrindeActionPerformed(evt);
            }
        });
        jToolBar3.add(btExcluirBrinde);

        btSalvarBrinde.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/file-save-16x16.png"))); // NOI18N
        btSalvarBrinde.setText("Salvar");
        btSalvarBrinde.setEnabled(false);
        btSalvarBrinde.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btSalvarBrindeActionPerformed(evt);
            }
        });
        jToolBar3.add(btSalvarBrinde);

        painelBotoesBrindes.add(jToolBar3);

        btAddProduto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/03.png"))); // NOI18N
        btAddProduto.setText("Incluir Produto como Brinde");
        btAddProduto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btAddProdutoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnBrindesLayout = new javax.swing.GroupLayout(pnBrindes);
        pnBrindes.setLayout(pnBrindesLayout);
        pnBrindesLayout.setHorizontalGroup(
            pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnBrindesLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(painelBotoesBrindes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(pnBrindesLayout.createSequentialGroup()
                        .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jScrollPane3)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnBrindesLayout.createSequentialGroup()
                                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(ftfCodigoB, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbCodigoB))
                                .addGap(18, 18, 18)
                                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbDiscriminacaoB)
                                    .addComponent(cbDiscriminacaoB, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(ftfQuantidade, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lbQuantidade))
                                .addGap(18, 18, 18)
                                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbUnitarioB)
                                    .addComponent(ftfValorBrinde, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lbvlTotalB)
                                    .addComponent(ftfVlTotalBbrinde, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(18, 18, 18)
                        .addComponent(btAddProduto)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        pnBrindesLayout.setVerticalGroup(
            pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnBrindesLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(painelBotoesBrindes, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pnBrindesLayout.createSequentialGroup()
                        .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbCodigoB)
                            .addComponent(lbDiscriminacaoB))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ftfCodigoB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbDiscriminacaoB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnBrindesLayout.createSequentialGroup()
                        .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbQuantidade)
                            .addComponent(lbUnitarioB))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ftfQuantidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ftfValorBrinde, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnBrindesLayout.createSequentialGroup()
                        .addComponent(lbvlTotalB)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfVlTotalBbrinde, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGroup(pnBrindesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnBrindesLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 173, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnBrindesLayout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btAddProduto)
                        .addGap(92, 92, 92))))
        );

        painelTabulado.addTab("Brindes", pnBrindes);

        lbTotalConsignado.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbTotalConsignado.setText("Total de Itens Consignados:");

        tfTotalConsignado.setEditable(false);
        tfTotalConsignado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalConsignado.setText("0");

        lbTotalVendido.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbTotalVendido.setText("Total de Itens Vendidos:");

        tfTotalVendido.setEditable(false);
        tfTotalVendido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalVendido.setText("0");

        lbTotalBrindes.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbTotalBrindes.setText("Total de Brindes:");

        tfTotalBrindes.setEditable(false);
        tfTotalBrindes.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalBrindes.setText("0");

        lbVlTotalConsignado.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalConsignado.setText("Valor:");

        tfVlTotalConsignado.setEditable(false);
        tfVlTotalConsignado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlTotalConsignado.setText("0,00");

        lbVlTotalVendido.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalVendido.setText("Valor:");

        tfVlTotalVendido.setEditable(false);
        tfVlTotalVendido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlTotalVendido.setText("0,00");

        lbVlTotalBrindes.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalBrindes.setText("Valor:");

        tfVlTotalBrindes.setEditable(false);
        tfVlTotalBrindes.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlTotalBrindes.setText("0,00");

        lbDevolvidos.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbDevolvidos.setText("Total de Itens Devolvidos:");

        tfTotalDevolvidos.setEditable(false);
        tfTotalDevolvidos.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalDevolvidos.setText("0");

        btPerda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-full.png"))); // NOI18N
        btPerda.setText("Perda");
        btPerda.setEnabled(false);
        btPerda.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btPerdaActionPerformed(evt);
            }
        });

        lbVlTotalPedido2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalPedido2.setText("Subtotal:");

        tfSubtotal.setEditable(false);
        tfSubtotal.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfSubtotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfSubtotal.setText("0,00");

        lbVlTotalPedido.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalPedido.setText("Valor total do Pedido:");

        tfVlTotalPedido.setEditable(false);
        tfVlTotalPedido.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfVlTotalPedido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlTotalPedido.setText("0,00");

        lbVlTotalPedido1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalPedido1.setText("Valor em produtos como brinde:");

        tfVlbrindesProdutos.setEditable(false);
        tfVlbrindesProdutos.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfVlbrindesProdutos.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlbrindesProdutos.setText("0,00");

        ftfDesconto.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfDesconto.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfDesconto.setText("0,00");
        ftfDesconto.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfDesconto.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        ftfDesconto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfDescontoFocusLost(evt);
            }
        });

        lbDesconto.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbDesconto.setText("Desconto:");

        lbValorRecebido.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbValorRecebido.setText("Valor Recebido:");

        ftfValorRecebido.setEditable(false);
        ftfValorRecebido.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfValorRecebido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfValorRecebido.setText("0,00");
        ftfValorRecebido.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfValorRecebido.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        ftfValorRecebido.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfValorRecebidoFocusLost(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(lbVlTotalPedido)
                    .addComponent(lbVlTotalPedido2)
                    .addComponent(lbVlTotalPedido1)
                    .addComponent(lbDesconto)
                    .addComponent(lbValorRecebido))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(tfSubtotal)
                    .addComponent(tfVlTotalPedido)
                    .addComponent(tfVlbrindesProdutos)
                    .addComponent(ftfDesconto)
                    .addComponent(ftfValorRecebido, javax.swing.GroupLayout.DEFAULT_SIZE, 77, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfSubtotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbVlTotalPedido2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfVlTotalPedido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbVlTotalPedido))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfVlbrindesProdutos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbVlTotalPedido1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ftfDesconto)
                    .addComponent(lbDesconto))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ftfValorRecebido)
                    .addComponent(lbValorRecebido))
                .addContainerGap())
        );

        lbVlTotalVendido1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbVlTotalVendido1.setText("Valor:");

        tfVlTotalDevolvido.setEditable(false);
        tfVlTotalDevolvido.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfVlTotalDevolvido.setText("0,00");

        btNovo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-empty.png"))); // NOI18N
        btNovo.setText("Novo");
        btNovo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btNovoActionPerformed(evt);
            }
        });

        lbStatus.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        lbStatus.setText("Status do Pedido:");

        tfStatus.setEditable(false);
        tfStatus.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfStatus.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tfStatus.setFocusable(false);

        jPanel2.setBackground(new java.awt.Color(255, 255, 225));
        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Recebimento em parcelas"));

        jLabel6.setText("1ª");

        try {
            ftfdtparcela1.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela1.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela1.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela1.setText("0,00");
        ftfvlparcela1.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela1FocusLost(evt);
            }
        });

        jLabel7.setText("Nr.");

        jLabel8.setText("Data");

        jLabel9.setText("Valor");

        jLabel10.setText("2ª");

        try {
            ftfdtparcela2.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela2.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela2.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela2.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela2.setText("0,00");
        ftfvlparcela2.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela2.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela2FocusLost(evt);
            }
        });

        jLabel11.setText("3ª");

        try {
            ftfdtparcela3.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela3.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela3.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela3.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela3.setText("0,00");
        ftfvlparcela3.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela3.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela3FocusLost(evt);
            }
        });

        jLabel12.setText("4ª");

        try {
            ftfdtparcela4.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela4.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela4.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela4.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela4.setText("0,00");
        ftfvlparcela4.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela4.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela4FocusLost(evt);
            }
        });

        jLabel13.setText("5ª");

        try {
            ftfdtparcela5.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela5.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela5.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela5.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela5.setText("0,00");
        ftfvlparcela5.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela5.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela5FocusLost(evt);
            }
        });

        jLabel14.setText("6ª");

        try {
            ftfdtparcela6.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela6.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela6.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela6.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela6.setText("0,00");
        ftfvlparcela6.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela6.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela6FocusLost(evt);
            }
        });

        jLabel15.setText("7ª");

        try {
            ftfdtparcela7.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela7.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela7.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela7.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela7.setText("0,00");
        ftfvlparcela7.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela7.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela7FocusLost(evt);
            }
        });

        jLabel16.setText("8ª");

        try {
            ftfdtparcela8.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela8.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela8.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela8.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela8.setText("0,00");
        ftfvlparcela8.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela8.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela8FocusLost(evt);
            }
        });

        jLabel17.setText("9ª");

        try {
            ftfdtparcela9.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela9.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela9.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela9.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela9.setText("0,00");
        ftfvlparcela9.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela9.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela9FocusLost(evt);
            }
        });

        jLabel18.setText("10ª");

        try {
            ftfdtparcela10.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela10.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela10.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela10.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela10.setText("0,00");
        ftfvlparcela10.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela10.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela10FocusLost(evt);
            }
        });

        try {
            ftfdtparcela11.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela11.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        ftfvlparcela11.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela11.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela11.setText("0,00");
        ftfvlparcela11.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela11.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela11FocusLost(evt);
            }
        });

        jLabel19.setText("11ª");

        try {
            ftfdtparcela12.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela12.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        jLabel20.setText("12ª");

        ftfvlparcela12.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela12.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela12.setText("0,00");
        ftfvlparcela12.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela12.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela12FocusLost(evt);
            }
        });

        ftfvlparcela13.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela13.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela13.setText("0,00");
        ftfvlparcela13.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela13.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela13FocusLost(evt);
            }
        });

        jLabel21.setText("13ª");

        try {
            ftfdtparcela13.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela13.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        try {
            ftfdtparcela14.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela14.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        jLabel22.setText("14ª");

        ftfvlparcela14.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela14.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela14.setText("0,00");
        ftfvlparcela14.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela14.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela14FocusLost(evt);
            }
        });

        ftfvlparcela15.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));
        ftfvlparcela15.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        ftfvlparcela15.setText("0,00");
        ftfvlparcela15.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);
        ftfvlparcela15.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftfvlparcela15FocusLost(evt);
            }
        });

        try {
            ftfdtparcela15.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftfdtparcela15.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);

        jLabel23.setText("15ª");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel18)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela10, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela10, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel2Layout.createSequentialGroup()
                                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(ftfdtparcela1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(jPanel2Layout.createSequentialGroup()
                                    .addComponent(jLabel7)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jLabel8)))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel9)
                                .addComponent(ftfvlparcela1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela3, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela3, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela4, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela4, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela5, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela5, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela6, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela6, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel15, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela7, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela7, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela8, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela8, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 11, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(ftfdtparcela9, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(ftfvlparcela9, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel19)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela11, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela11, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel20)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela12, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela12, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel21)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela13, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela13, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel22)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela14, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela14, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel23)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ftfdtparcela15, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ftfvlparcela15, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(jLabel8)
                    .addComponent(jLabel9))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(ftfdtparcela1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(ftfdtparcela2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(ftfdtparcela3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(ftfdtparcela4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(ftfdtparcela5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(ftfdtparcela6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(ftfdtparcela7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(ftfdtparcela8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(ftfdtparcela9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18)
                    .addComponent(ftfdtparcela10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19)
                    .addComponent(ftfdtparcela11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(ftfdtparcela12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(ftfdtparcela13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(ftfdtparcela14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel23)
                    .addComponent(ftfdtparcela15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftfvlparcela15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btDevolucao.setText("Devolução");
        btDevolucao.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btDevolucaoActionPerformed(evt);
            }
        });

        btLocalizar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/search-16x16.png"))); // NOI18N
        btLocalizar.setText("Localizar");
        btLocalizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btLocalizarActionPerformed(evt);
            }
        });

        lbPerda.setText("Motivo da Perda:");

        cbPerda.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Desconhecido", "Mudança", "Falecimento", "Doença", "Calote", "Avalista" }));

        javax.swing.GroupLayout pnPerdaLayout = new javax.swing.GroupLayout(pnPerda);
        pnPerda.setLayout(pnPerdaLayout);
        pnPerdaLayout.setHorizontalGroup(
            pnPerdaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnPerdaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnPerdaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnPerdaLayout.createSequentialGroup()
                        .addComponent(lbPerda)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(cbPerda, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        pnPerdaLayout.setVerticalGroup(
            pnPerdaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnPerdaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lbPerda)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cbPerda, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(pnCabecalhoPedido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(lbNumeroPedido)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfNumeroPedido, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(38, 38, 38)
                        .addComponent(btNovo)
                        .addGap(18, 18, 18)
                        .addComponent(btPerda)
                        .addGap(18, 18, 18)
                        .addComponent(btDevolucao)
                        .addGap(18, 18, 18)
                        .addComponent(btLocalizar)
                        .addGap(118, 118, 118)
                        .addComponent(lbStatus)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfStatus, javax.swing.GroupLayout.PREFERRED_SIZE, 154, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(pnPerda, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lbTotalBrindes)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(tfTotalBrindes, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lbDevolvidos)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(tfTotalDevolvidos, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(lbTotalVendido)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                            .addComponent(tfTotalVendido, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                            .addComponent(lbTotalConsignado)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                            .addComponent(tfTotalConsignado, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lbVlTotalVendido1)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(tfVlTotalDevolvido, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(lbVlTotalConsignado)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                            .addComponent(tfVlTotalConsignado, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(lbVlTotalVendido)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                            .addComponent(tfVlTotalVendido, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(lbVlTotalBrindes)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                            .addComponent(tfVlTotalBrindes, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                .addGap(64, 64, 64)
                                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(painelTabulado, javax.swing.GroupLayout.PREFERRED_SIZE, 873, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap())
        );

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {tfTotalConsignado, tfTotalDevolvidos, tfTotalVendido, tfVlTotalConsignado, tfVlTotalVendido});

        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(lbNumeroPedido)
                        .addComponent(tfNumeroPedido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(btPerda)
                        .addComponent(btNovo)
                        .addComponent(lbStatus)
                        .addComponent(tfStatus, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btDevolucao, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(btLocalizar, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pnCabecalhoPedido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(8, 8, 8)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(painelTabulado, javax.swing.GroupLayout.PREFERRED_SIZE, 320, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(pnPerda, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(32, 32, 32)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                    .addComponent(lbVlTotalConsignado)
                                                    .addComponent(tfVlTotalConsignado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                                                    .addComponent(tfVlTotalVendido)
                                                    .addComponent(lbVlTotalVendido))
                                                .addGap(33, 33, 33)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                    .addComponent(tfVlTotalBrindes)
                                                    .addComponent(lbVlTotalBrindes)))
                                            .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                    .addComponent(lbTotalConsignado)
                                                    .addComponent(tfTotalConsignado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                                                    .addComponent(tfTotalVendido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addComponent(lbTotalVendido))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                    .addComponent(tfTotalDevolvidos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addComponent(lbDevolvidos)
                                                    .addComponent(lbVlTotalVendido1)
                                                    .addComponent(tfVlTotalDevolvido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                    .addComponent(tfTotalBrindes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addComponent(lbTotalBrindes)))))
                                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE))))
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {tfTotalConsignado, tfVlTotalConsignado});

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {tfTotalBrindes, tfTotalVendido, tfVlTotalBrindes, tfVlTotalVendido});

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btDevolucao, btNovo, btPerda});

        setSize(new java.awt.Dimension(1119, 749));
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing
        if (itensPedido.isEmpty()) {
            if (pedidoBean.getId() != null || pedidoBean.getStatus().getId() != 6) {
                JOptionPane.showMessageDialog(this, "Não há itens de venda registrados neste pedido.\n Acesse novamente este pedido e inclua-os.");
            }
        }
        limparDadosDoPedido();
        reiniciaAbaItens();
        reiniciaAbaBrindes();
        System.gc();
        if (Controle.frmPedidos != null) {
            Controle.frmPedidos.atualizarDadosDaTabela();
        }
    }//GEN-LAST:event_formWindowClosing

    private void btIncluirItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btIncluirItemActionPerformed
        if (!tfNumeroPedido.getText().isEmpty()) {
            novoItemVenda();
        } else {
            JOptionPane.showMessageDialog(this, "Primeiro cadastre um pedido de venda.");
        }
    }//GEN-LAST:event_btIncluirItemActionPerformed

    private void btEditarItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditarItemActionPerformed
        editarItemVenda();
    }//GEN-LAST:event_btEditarItemActionPerformed

    private void btExcluirItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btExcluirItemActionPerformed
        excluirItemVenda();
    }//GEN-LAST:event_btExcluirItemActionPerformed

    private void cbClienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbClienteActionPerformed
        if (cbCliente.getComponents().length == 0) {
            limparDadosCliente();
        } else {
            setaCliente();
        }
    }//GEN-LAST:event_cbClienteActionPerformed

    private void btSalvarPedidoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSalvarPedidoActionPerformed
        SalvarPedido();
    }//GEN-LAST:event_btSalvarPedidoActionPerformed

    private void cbDiscriminacaoIActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbDiscriminacaoIActionPerformed
        if (cbDiscriminacaoI.getSelectedIndex() != 0) {
            setaProdutoItem();
        } else {
            limparDadosProdutoItem();
        }
    }//GEN-LAST:event_cbDiscriminacaoIActionPerformed

    private void ftfCodigoIFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfCodigoIFocusLost
        if (!ftfCodigoI.getText().equals("")) {
            buscarItemPorCodigo();
        }
    }//GEN-LAST:event_ftfCodigoIFocusLost

    private void ftfConsignadoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfConsignadoFocusLost
        if (ftfConsignado.getText().isEmpty()) {
            ftfConsignado.setText("0");
        }
        calcularVenda();
    }//GEN-LAST:event_ftfConsignadoFocusLost

    private void ftfVendidoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfVendidoFocusLost
        if (ftfVendido.getText().isEmpty()) {
            ftfVendido.setText("0");
        }
        calcularVenda();
    }//GEN-LAST:event_ftfVendidoFocusLost

    private void ftfVlUnitarioFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfVlUnitarioFocusLost
        if (ftfVlUnitario.getText().isEmpty()) {
            ftfVlUnitario.setText("0,00");
        }
        calcularVenda();
    }//GEN-LAST:event_ftfVlUnitarioFocusLost

    private void btSalvarItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSalvarItemActionPerformed
        salvarItemVenda();
    }//GEN-LAST:event_btSalvarItemActionPerformed

    private void ftfCodigoBFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfCodigoBFocusLost
        if (!ftfCodigoB.getText().equals("")) {
            buscarBrindePorCodigo();
        }
    }//GEN-LAST:event_ftfCodigoBFocusLost

    private void ftfQuantidadeFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfQuantidadeFocusLost
        if (ftfQuantidade.getText().isEmpty()) {
            ftfQuantidade.setText("0");
        }
        calcularBrinde();
    }//GEN-LAST:event_ftfQuantidadeFocusLost

    private void ftfValorBrindeFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfValorBrindeFocusLost
        if (ftfValorBrinde.getText().isEmpty()) {
            ftfValorBrinde.setText("0,00");
        }
        calcularBrinde();
    }//GEN-LAST:event_ftfValorBrindeFocusLost

    private void btIncluirBrindeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btIncluirBrindeActionPerformed
        if (!tfNumeroPedido.getText().isEmpty()) {
            novoBrinde();
        } else {
            JOptionPane.showMessageDialog(this, "Primeiro cadastre um pedido de venda.");
        }
    }//GEN-LAST:event_btIncluirBrindeActionPerformed

    private void btEditarBrindeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditarBrindeActionPerformed
        editarBrinde();
    }//GEN-LAST:event_btEditarBrindeActionPerformed

    private void btExcluirBrindeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btExcluirBrindeActionPerformed
        excluirBrinde();
    }//GEN-LAST:event_btExcluirBrindeActionPerformed

    private void btSalvarBrindeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btSalvarBrindeActionPerformed
        salvarBrinde();
    }//GEN-LAST:event_btSalvarBrindeActionPerformed

    private void ftfDescontoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfDescontoFocusLost
        calculaValorPedido();
    }//GEN-LAST:event_ftfDescontoFocusLost

    private void btEditEquipeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditEquipeActionPerformed
        Controle.abreFrmCadEquipe();
    }//GEN-LAST:event_btEditEquipeActionPerformed

    private void btEditClienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditClienteActionPerformed
        Controle.abreFrmCadCliente();
    }//GEN-LAST:event_btEditClienteActionPerformed

    private void btEditVendedorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditVendedorActionPerformed
        Controle.abreFrmCadFuncionario();
    }//GEN-LAST:event_btEditVendedorActionPerformed

    private void cbEquipeMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbEquipeMouseReleased
        String item = cbEquipe.getSelectedItem().toString();
        carregarCbEquipe();
        cbEquipe.setSelectedItem(item);
    }//GEN-LAST:event_cbEquipeMouseReleased

    private void cbVendedorMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbVendedorMouseReleased
        String item = cbVendedor.getSelectedItem().toString();
        carregarCbVendedor();
        cbVendedor.setSelectedItem(item);
    }//GEN-LAST:event_cbVendedorMouseReleased

    private void cbClienteMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbClienteMouseReleased
        String item = cbCliente.getSelectedItem().toString();
        carregarCbCliente();
        cbCliente.setSelectedItem(item);
    }//GEN-LAST:event_cbClienteMouseReleased

    private void ftfValorRecebidoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfValorRecebidoFocusLost
        calculaValorPedido();
    }//GEN-LAST:event_ftfValorRecebidoFocusLost

    private void btPerdaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btPerdaActionPerformed
        registrarPerda();
    }//GEN-LAST:event_btPerdaActionPerformed

    private void btEditProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditProdutoActionPerformed
        Controle.abreFrmCadProdutos();
    }//GEN-LAST:event_btEditProdutoActionPerformed

    private void cbDiscriminacaoIMouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_cbDiscriminacaoIMouseReleased
        String item = cbDiscriminacaoI.getSelectedItem().toString();
        atualizaCbDiscriminacao();
        cbDiscriminacaoI.setSelectedItem(item);
    }//GEN-LAST:event_cbDiscriminacaoIMouseReleased

    private void btAddProdutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btAddProdutoActionPerformed
        tipoBrinde = 2;
        novoBrinde();
    }//GEN-LAST:event_btAddProdutoActionPerformed

    private void cbDiscriminacaoBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbDiscriminacaoBActionPerformed
        getProdutoBrinde();
    }//GEN-LAST:event_cbDiscriminacaoBActionPerformed

    private void btNovoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btNovoActionPerformed
        novoPedido();
    }//GEN-LAST:event_btNovoActionPerformed

    private void ftfvlparcela1FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela1FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela1FocusLost

    private void ftfvlparcela2FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela2FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela2FocusLost

    private void ftfvlparcela3FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela3FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela3FocusLost

    private void ftfvlparcela4FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela4FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela4FocusLost

    private void ftfvlparcela5FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela5FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela5FocusLost

    private void ftfvlparcela6FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela6FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela6FocusLost

    private void ftfvlparcela7FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela7FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela7FocusLost

    private void ftfvlparcela8FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela8FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela8FocusLost

    private void ftfvlparcela9FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela9FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela9FocusLost

    private void btDevolucaoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btDevolucaoActionPerformed
        if (JOptionPane.showConfirmDialog(this, "Confirma a devolução do pedido?", null, JOptionPane.OK_CANCEL_OPTION) == 0) {
            ItemPedidoDAO dao = new ItemPedidoDAO();
            dao.transferirConsignadosParaDevolvidos(itensPedido);
            atualizarDadosDaTabelaItens();
            gravarParaAuditar();
        }

    }//GEN-LAST:event_btDevolucaoActionPerformed

    private void formWindowGainedFocus(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowGainedFocus
        String item = cbCliente.getSelectedItem().toString();
        carregarCbCliente();
        cbCliente.setSelectedItem(item);
    }//GEN-LAST:event_formWindowGainedFocus

    private void ftfvlparcela10FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela10FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela10FocusLost

    private void ftfvlparcela11FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela11FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela11FocusLost

    private void ftfvlparcela12FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela12FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela12FocusLost

    private void ftfvlparcela13FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela13FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela13FocusLost

    private void ftfvlparcela14FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela14FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela14FocusLost

    private void ftfvlparcela15FocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftfvlparcela15FocusLost
        ftfValorRecebido.setText(totalizaParcelas());
        calculaValorPedido();
    }//GEN-LAST:event_ftfvlparcela15FocusLost

    private void btLocalizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btLocalizarActionPerformed
        localizarPedido(JOptionPane.showInputDialog("Informe o número do pedido."));
    }//GEN-LAST:event_btLocalizarActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btAddProduto;
    private javax.swing.JButton btDevolucao;
    private javax.swing.JButton btEditCliente;
    private javax.swing.JButton btEditEquipe;
    private javax.swing.JButton btEditProduto;
    private javax.swing.JButton btEditVendedor;
    private javax.swing.JButton btEditarBrinde;
    private javax.swing.JButton btEditarItem;
    private javax.swing.JButton btExcluirBrinde;
    private javax.swing.JButton btExcluirItem;
    private javax.swing.JButton btIncluirBrinde;
    private javax.swing.JButton btIncluirItem;
    private javax.swing.JButton btLocalizar;
    private javax.swing.JButton btNovo;
    private javax.swing.JButton btPerda;
    private javax.swing.JButton btSalvarBrinde;
    private javax.swing.JButton btSalvarItem;
    private javax.swing.JButton btSalvarPedido;
    private javax.swing.JComboBox cbCliente;
    private javax.swing.JComboBox cbDiscriminacaoB;
    private javax.swing.JComboBox cbDiscriminacaoI;
    private javax.swing.JComboBox cbEquipe;
    private javax.swing.JComboBox cbPerda;
    private javax.swing.JComboBox cbVendedor;
    private javax.swing.JFormattedTextField ftfCodigoB;
    private javax.swing.JFormattedTextField ftfCodigoI;
    private javax.swing.JFormattedTextField ftfConsignado;
    private javax.swing.JFormattedTextField ftfDataEntrega;
    private javax.swing.JFormattedTextField ftfDataVencimento;
    private javax.swing.JFormattedTextField ftfDesconto;
    private javax.swing.JFormattedTextField ftfDevolvido;
    private javax.swing.JFormattedTextField ftfQuantidade;
    private javax.swing.JFormattedTextField ftfValorBrinde;
    private javax.swing.JFormattedTextField ftfValorRecebido;
    private javax.swing.JFormattedTextField ftfVendido;
    private javax.swing.JFormattedTextField ftfVlTotal;
    private javax.swing.JFormattedTextField ftfVlTotalBbrinde;
    private javax.swing.JFormattedTextField ftfVlUnitario;
    private javax.swing.JFormattedTextField ftfdtparcela1;
    private javax.swing.JFormattedTextField ftfdtparcela10;
    private javax.swing.JFormattedTextField ftfdtparcela11;
    private javax.swing.JFormattedTextField ftfdtparcela12;
    private javax.swing.JFormattedTextField ftfdtparcela13;
    private javax.swing.JFormattedTextField ftfdtparcela14;
    private javax.swing.JFormattedTextField ftfdtparcela15;
    private javax.swing.JFormattedTextField ftfdtparcela2;
    private javax.swing.JFormattedTextField ftfdtparcela3;
    private javax.swing.JFormattedTextField ftfdtparcela4;
    private javax.swing.JFormattedTextField ftfdtparcela5;
    private javax.swing.JFormattedTextField ftfdtparcela6;
    private javax.swing.JFormattedTextField ftfdtparcela7;
    private javax.swing.JFormattedTextField ftfdtparcela8;
    private javax.swing.JFormattedTextField ftfdtparcela9;
    private javax.swing.JFormattedTextField ftfvlparcela1;
    private javax.swing.JFormattedTextField ftfvlparcela10;
    private javax.swing.JFormattedTextField ftfvlparcela11;
    private javax.swing.JFormattedTextField ftfvlparcela12;
    private javax.swing.JFormattedTextField ftfvlparcela13;
    private javax.swing.JFormattedTextField ftfvlparcela14;
    private javax.swing.JFormattedTextField ftfvlparcela15;
    private javax.swing.JFormattedTextField ftfvlparcela2;
    private javax.swing.JFormattedTextField ftfvlparcela3;
    private javax.swing.JFormattedTextField ftfvlparcela4;
    private javax.swing.JFormattedTextField ftfvlparcela5;
    private javax.swing.JFormattedTextField ftfvlparcela6;
    private javax.swing.JFormattedTextField ftfvlparcela7;
    private javax.swing.JFormattedTextField ftfvlparcela8;
    private javax.swing.JFormattedTextField ftfvlparcela9;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JToolBar jToolBar2;
    private javax.swing.JToolBar jToolBar3;
    private javax.swing.JLabel lbBairro;
    private javax.swing.JLabel lbCidade;
    private javax.swing.JLabel lbCliente;
    private javax.swing.JLabel lbCodigoB;
    private javax.swing.JLabel lbCodigoI;
    private javax.swing.JLabel lbConsignado;
    private javax.swing.JLabel lbDataEntrega;
    private javax.swing.JLabel lbDataVencimento;
    private javax.swing.JLabel lbDesconto;
    private javax.swing.JLabel lbDevolvido;
    private javax.swing.JLabel lbDevolvidos;
    private javax.swing.JLabel lbDiscriminacaoB;
    private javax.swing.JLabel lbDiscriminacaoI;
    private javax.swing.JLabel lbEquie;
    private javax.swing.JLabel lbLogradouro;
    private javax.swing.JLabel lbNumero;
    private javax.swing.JLabel lbNumeroPedido;
    private javax.swing.JLabel lbPerda;
    private javax.swing.JLabel lbQuantidade;
    private javax.swing.JLabel lbStatus;
    private javax.swing.JLabel lbTelefone;
    private javax.swing.JLabel lbTotalBrindes;
    private javax.swing.JLabel lbTotalConsignado;
    private javax.swing.JLabel lbTotalVendido;
    private javax.swing.JLabel lbUf;
    private javax.swing.JLabel lbUnitario;
    private javax.swing.JLabel lbUnitarioB;
    private javax.swing.JLabel lbValorRecebido;
    private javax.swing.JLabel lbVededor;
    private javax.swing.JLabel lbVendido;
    private javax.swing.JLabel lbVlTotalBrindes;
    private javax.swing.JLabel lbVlTotalConsignado;
    private javax.swing.JLabel lbVlTotalPedido;
    private javax.swing.JLabel lbVlTotalPedido1;
    private javax.swing.JLabel lbVlTotalPedido2;
    private javax.swing.JLabel lbVlTotalVendido;
    private javax.swing.JLabel lbVlTotalVendido1;
    private javax.swing.JLabel lbvlTotal;
    private javax.swing.JLabel lbvlTotalB;
    private javax.swing.JPanel painelBotoesBrindes;
    private javax.swing.JPanel painelBotoesItensVenda;
    private javax.swing.JTabbedPane painelTabulado;
    private javax.swing.JPanel pnBrindes;
    private javax.swing.JPanel pnCabecalhoPedido;
    private javax.swing.JPanel pnItensVeda;
    private javax.swing.JPanel pnPerda;
    private javax.swing.JTable tbBrindes;
    private javax.swing.JTable tbItensVenda;
    private javax.swing.JTextField tfApelido;
    private javax.swing.JTextField tfBairro;
    private javax.swing.JFormattedTextField tfCelular;
    private javax.swing.JTextField tfCidade;
    private javax.swing.JTextField tfCorCasa;
    private javax.swing.JTextField tfLogradouro;
    private javax.swing.JTextField tfNFrente;
    private javax.swing.JTextField tfNLado;
    private javax.swing.JTextField tfNumero;
    private javax.swing.JTextField tfNumeroPedido;
    private javax.swing.JTextField tfReferencia;
    private javax.swing.JTextField tfStatus;
    private javax.swing.JTextField tfSubtotal;
    private javax.swing.JFormattedTextField tfTelefone;
    private javax.swing.JTextField tfTotalBrindes;
    private javax.swing.JTextField tfTotalConsignado;
    private javax.swing.JTextField tfTotalDevolvidos;
    private javax.swing.JTextField tfTotalVendido;
    private javax.swing.JTextField tfUf;
    private javax.swing.JTextField tfVlTotalBrindes;
    private javax.swing.JTextField tfVlTotalConsignado;
    private javax.swing.JTextField tfVlTotalDevolvido;
    private javax.swing.JTextField tfVlTotalPedido;
    private javax.swing.JTextField tfVlTotalVendido;
    private javax.swing.JTextField tfVlbrindesProdutos;
    // End of variables declaration//GEN-END:variables
    private static PedidoBean pedidoBean = new PedidoBean();
    private static StatusVendaBean statusPedidoBean = new StatusVendaBean();
    private static ItemPedidoBean itemVendaBean = new ItemPedidoBean();
    private static BrindePedidoBean brindeVendaBean = new BrindePedidoBean();
    private static List<ItemPedidoBean> itensPedido = new ArrayList<ItemPedidoBean>();
    private static List<BrindePedidoBean> brindesPedido = new ArrayList<BrindePedidoBean>();
    private static List<ClienteBean> clientes = new ArrayList<ClienteBean>();
    private static List<EquipeBean> equipes = new ArrayList<EquipeBean>();
    private static List<FuncionarioBean> vendedores = new ArrayList<FuncionarioBean>();
    private static List<ProdutoBean> produtos = new ArrayList<ProdutoBean>();
    private static PedidoDAO pedidoDAO = new PedidoDAO();
    private static Integer tipoBrinde = 1;
    private static AuditoriaPedidoBean aud = new AuditoriaPedidoBean(); //Instanciamos a auditoria

    //-Código referente a tabela de Itens--------------------------------------------------------------------------------
    private DefaultTableModel tableModelItensVenda = new DefaultTableModel(null, new String[]{"Código", "Discriminação", "Consignado", "Vendido", "Devolvido", "Valor Unit.", "Vl. Consignado", "Vl. Vendido", "Vl. Devolvido", "Total"});
    private ListSelectionModel lmsItensVenda;
    private ComboBoxModel cbxClientesModel = new DefaultComboBoxModel();
    private int operacaoItensVenda = 0;//se 1: novo, se 2: editar

    private void tbItensVendaLinhaSelecionada(JTable tb) {
        if (tb.getSelectedRow() != -1) {
            itemVendaBean.setId(itensPedido.get(tb.getSelectedRow()).getId());
            cbDiscriminacaoI.setSelectedItem(itensPedido.get(tb.getSelectedRow()).getProduto().getProduto());
            ftfConsignado.setText(itensPedido.get(tb.getSelectedRow()).getConsignado().toString());
            ftfVendido.setText(itensPedido.get(tb.getSelectedRow()).getVendido().toString());
            ftfDevolvido.setText(itensPedido.get(tb.getSelectedRow()).getDevolvido().toString());
            ftfVlUnitario.setText(itensPedido.get(tb.getSelectedRow()).getValorUnitarioStr());
            itemVendaBean.setValorCusto(itensPedido.get(tb.getSelectedRow()).getValorCusto());
            ftfVlTotal.setText(itensPedido.get(tb.getSelectedRow()).getValorTotalStr());
            setaItemVenda();
            btEditarItem.setEnabled(true);
            btExcluirItem.setEnabled(true);
            operacaoItensVenda = 2;
        } else {
            limparCamposItens();
            editarCamposItens(false);
            reiniciaBotoesItens();
        }
    }

    private void inicializarTabelaDeItens() {

        tbItensVenda.getColumnModel().getColumn(1).setPreferredWidth(300);
        tbItensVenda.setModel(tableModelItensVenda);
        tbItensVenda.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        lmsItensVenda = tbItensVenda.getSelectionModel();
        lmsItensVenda.addListSelectionListener(new ListSelectionListener() {
            public void valueChanged(ListSelectionEvent e) {
                if (!e.getValueIsAdjusting()) {
                    tbItensVendaLinhaSelecionada(tbItensVenda);
                }
            }
        });
    }

    private void atualizarDadosDaTabelaItens() {
        ItemPedidoDAO dao = new ItemPedidoDAO();
        itensPedido = dao.listar(pedidoBean);

        if (tableModelItensVenda.getRowCount() > 0) {
            limparTabelaDeItens();
        }

        Integer consignado = 0;
        Integer vendido = 0;
        Integer devolvido = 0;
        BigDecimal valorConsignado = new BigDecimal(0.00);
        BigDecimal valorVendido = new BigDecimal(0.00);
        BigDecimal valorDevolvido = new BigDecimal(0.00);

        String[] campos = {null, null, null, null, null, null, null, null, null, null};

        for (int i = 0; i < itensPedido.size(); i++) {
            tableModelItensVenda.addRow(campos);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getProduto().getId(), i, 0);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getProduto().getProduto(), i, 1);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getConsignado(), i, 2);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getVendido(), i, 3);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getDevolvido(), i, 4);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getValorUnitarioStr(), i, 5);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getValorConsignadoStr(), i, 6);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getValorVendidoStr(), i, 7);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getValorDevolvidoStr(), i, 8);
            tableModelItensVenda.setValueAt(itensPedido.get(i).getValorTotalStr(), i, 9);

            //calcula valores para os totais abaixo no formulário a cada iteração de registro
            consignado = consignado + itensPedido.get(i).getConsignado();
            vendido = vendido + itensPedido.get(i).getVendido();
            devolvido = devolvido + itensPedido.get(i).getDevolvido();
            valorConsignado = valorConsignado.add(itensPedido.get(i).getValorConsignado());
            valorVendido = valorVendido.add(itensPedido.get(i).getValorVendido());
            valorDevolvido = valorDevolvido.add(itensPedido.get(i).getValorDevolvido());
        }
        //seta valores calculados para os totas abaixo no formulário.
        tfTotalConsignado.setText(consignado.toString());
        tfTotalVendido.setText(vendido.toString());
        tfTotalDevolvidos.setText(devolvido.toString());
        tfVlTotalConsignado.setText(Utilidades.formataMontetarioSTR(valorConsignado));
        tfVlTotalVendido.setText(Utilidades.formataMontetarioSTR(valorVendido));
        tfVlTotalDevolvido.setText(Utilidades.formataMontetarioSTR(valorDevolvido));
        if (!itensPedido.isEmpty()) {
            calculaValorPedido();
        }
    }

    private void limparTabelaDeItens() {
        while (tableModelItensVenda.getRowCount() > 0) {
            tableModelItensVenda.removeRow(0);
        }
    }
    //-Código referente a tabela de Brindes--------------------------------------------------------------------------------
    private DefaultTableModel tableModelBrindes = new DefaultTableModel(null, new String[]{"Discriminação", "Quantidade", "Valor(R$)", "Total"});
    private ListSelectionModel lmsBrindes;
    private int operacaoBrindes = 1;//se 1: novo, se 2: editar

    private void tbBrindesLinhaSelecionada(JTable tb) {
        if (tb.getSelectedRow() != -1) {
            operacaoBrindes = 2;
            brindeVendaBean.setId(brindesPedido.get(tb.getSelectedRow()).getId());
            ftfCodigoB.setText(brindesPedido.get(tb.getSelectedRow()).getProduto().getId().toString());
            cbDiscriminacaoB.setSelectedItem(brindesPedido.get(tb.getSelectedRow()).getProduto().getProduto());
            brindeVendaBean.setId(brindesPedido.get(tb.getSelectedRow()).getId());
            ftfQuantidade.setText(brindesPedido.get(tb.getSelectedRow()).getQuantidade().toString());
            ftfValorBrinde.setText(brindesPedido.get(tb.getSelectedRow()).getValorSTR());
            ftfVlTotalBbrinde.setText(brindesPedido.get(tb.getSelectedRow()).getVlTotalSTR());
            tipoBrinde = brindesPedido.get(tb.getSelectedRow()).getTipo();
            habilitaBotoesParaEdicaobrindes(true);
        } else {
            operacaoBrindes = 1;
            brindeVendaBean.setId(null);
            limparCamposBrinde();
            tipoBrinde = 1;
            habilitaBotoesParaEdicaobrindes(false);
        }
    }

    private void inicializarTabelaDeBrindes() {

        tbBrindes.setModel(tableModelBrindes);
        tbBrindes.getColumnModel().getColumn(0).setPreferredWidth(370);
        tbBrindes.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        lmsBrindes = tbBrindes.getSelectionModel();
        lmsBrindes.addListSelectionListener(new ListSelectionListener() {
            public void valueChanged(ListSelectionEvent e) {
                if (!e.getValueIsAdjusting()) {
                    tbBrindesLinhaSelecionada(tbBrindes);
                }
            }
        });
    }

    private void atualizarDadosDaTabelaBrindes() {
        brindesPedido.clear();
        BrindePedidoDAO dao = new BrindePedidoDAO();
        brindesPedido = dao.listar(pedidoBean);
        limparTabelaDeBrindes();

        Integer qtb = 0;
        BigDecimal vlBrindes = new BigDecimal(0.00);
        BigDecimal vlPBrindes = new BigDecimal(0.00);

        String campos[] = {null, null, null, null};
        for (int i = 0; i < brindesPedido.size(); i++) {
            tableModelBrindes.addRow(campos);
            tableModelBrindes.setValueAt(brindesPedido.get(i).getProduto().getProduto(), i, 0);
            tableModelBrindes.setValueAt(brindesPedido.get(i).getQuantidade(), i, 1);
            tableModelBrindes.setValueAt(brindesPedido.get(i).getValorSTR(), i, 2);
            tableModelBrindes.setValueAt(brindesPedido.get(i).getVlTotalSTR(), i, 3);
            qtb = qtb + brindesPedido.get(i).getQuantidade();
            vlBrindes = vlBrindes.add(brindesPedido.get(i).getVlTotal());
            if (brindesPedido.get(i).getTipo() == 2) {
                vlPBrindes = vlPBrindes.add(brindesPedido.get(i).getVlTotal());
            }
        }
        tfTotalBrindes.setText(qtb.toString());
        tfVlTotalBrindes.setText(Utilidades.formataMontetarioSTR(vlBrindes));
        tfVlbrindesProdutos.setText(Utilidades.formataMontetarioSTR(vlPBrindes));
        calculaValorPedido();
    }

    private void limparTabelaDeBrindes() {
        while (tableModelBrindes.getRowCount() > 0) {
            tableModelBrindes.removeRow(0);
        }
    }

    private void novoBrinde() {
        limparCamposBrinde();
        editarCamposBrindes(true);
        habilitaBotoesParaEdicaobrindes(false);
    }

    private void editarBrinde() {
        editarCamposBrindes(true);
        habilitaBotoesParaEdicaobrindes(false);
    }

    private void excluirBrinde() {
        if (brindeVendaBean.getId() != null) {
            BrindePedidoDAO dao = new BrindePedidoDAO();
            dao.excluir(brindeVendaBean);
            reiniciaAbaBrindes();
        }
    }

    private void salvarBrinde() {
        setBrinde();
        BrindePedidoDAO dao = new BrindePedidoDAO();
        if (operacaoBrindes == 1) {
            dao.inserir(brindeVendaBean);
        }
        if (operacaoBrindes == 2) {
            dao.alterar(brindeVendaBean);
        }
        reiniciaAbaBrindes();
    }

    private void habilitaBotoesParaEdicaobrindes(boolean b) {
        btIncluirBrinde.setEnabled(b);
        btEditarBrinde.setEnabled(b);
        btExcluirBrinde.setEnabled(b);
        btAddProduto.setEnabled(b);
    }

    private void limparCamposBrinde() {
        ftfCodigoB.setText("");
        cbDiscriminacaoB.setSelectedIndex(0);
        ftfQuantidade.setText("0");
        ftfValorBrinde.setText("0,00");
        ftfVlTotalBbrinde.setText("0,00");
        brindeVendaBean = null;
        brindeVendaBean = new BrindePedidoBean();
    }

    private void editarCamposBrindes(boolean b) {
        btSalvarBrinde.setEnabled(b);
        tbBrindes.setEnabled(!b);
        ftfCodigoB.setEnabled(b);
        cbDiscriminacaoB.setEnabled(b);
        ftfQuantidade.setEnabled(b);
        ftfValorBrinde.setEnabled(b);
    }

    private void reiniciaBotoesBrindes() {
        btIncluirBrinde.setEnabled(true);
        btAddProduto.setEnabled(true);
        btEditarBrinde.setEnabled(false);
        btExcluirBrinde.setEnabled(false);
        btSalvarBrinde.setEnabled(false);
    }

    public void reiniciaAbaBrindes() {
        tbBrindes.clearSelection();
        atualizarDadosDaTabelaBrindes();
        atualizaCbDiscriminacaoBrindes();
        limparCamposBrinde();
        reiniciaBotoesBrindes();
        editarCamposBrindes(false);
        operacaoBrindes = 1;
        tipoBrinde = 1;
    }

    private void buscarBrindePorCodigo() {
        Integer codigo = Integer.parseInt(ftfCodigoB.getText());
        boolean encontrado = false;
        for (int i = 0; i < produtos.size(); i++) {
            if (produtos.get(i).getId() == codigo) {
                cbDiscriminacaoB.setSelectedItem(produtos.get(i).getProduto());
                encontrado = true;
                break;
            }
        }

        if (!encontrado) {
            JOptionPane.showMessageDialog(this, "Produto não cadastrado.");
            ftfCodigoB.setText("");
            ftfCodigoB.requestFocus();
        }
    }

    private void getProdutoBrinde() {
        for (int i = 0; i < produtos.size(); i++) {
            if (produtos.get(i).getProduto().equals(cbDiscriminacaoB.getSelectedItem().toString())) {
                if (tipoBrinde == 1) {
                    ftfValorBrinde.setText(produtos.get(i).getVlCompraStr());
                }
                if (tipoBrinde == 2) {
                    ftfValorBrinde.setText(produtos.get(i).getVlVendaStr());
                }
                brindeVendaBean.setProduto(produtos.get(i));
            }
        }
    }

    private void setBrinde() {
        brindeVendaBean.setQuantidade(Integer.parseInt(ftfQuantidade.getText()));
        brindeVendaBean.setValor(ftfValorBrinde.getText());
        brindeVendaBean.setVenda(pedidoBean);
        brindeVendaBean.setTipo(tipoBrinde);
    }

    private void calcularBrinde() {
        BigDecimal qt = new BigDecimal(Utilidades.formataFlutuante(ftfQuantidade.getText()));
        BigDecimal vl = new BigDecimal(Utilidades.formataFlutuante(ftfValorBrinde.getText()));
        BigDecimal r = new BigDecimal(0.00);
        r = vl.multiply(qt);
        ftfVlTotalBbrinde.setText(Utilidades.formataMontetarioSTR(r));
    }

    private void carregarCbDiscriminacaoBrindes() {
        cbDiscriminacaoB.removeAllItems();
        cbDiscriminacaoB.addItem("");
        ProdutoDAO dao = new ProdutoDAO();
        produtos = dao.listar();
        for (int i = 0; i < produtos.size(); i++) {
            cbDiscriminacaoB.addItem(produtos.get(i).getProduto());
        }
    }

    public void atualizaCbDiscriminacaoBrindes() {
        produtos.clear();
        ProdutoDAO dao = new ProdutoDAO();
        produtos = dao.listar();
        cbDiscriminacaoB.setSelectedIndex(0);
        //não removemos todos os itens de uma vez pois o método cbDiscriminacaoI é acionado
        //e caso não haja pelo menos 1 item lançara uma exceção.
        for (int i = cbDiscriminacaoB.getItemCount() - 1; i > 0; i--) {
            if (cbDiscriminacaoB.getItemCount() > 0) {
                cbDiscriminacaoB.removeItemAt(i);
            }
        }

        for (int i = 0; i < produtos.size(); i++) {
            cbDiscriminacaoB.addItem(produtos.get(i).getProduto());
        }
    }

    //Métodos da aba Itens de venda--------------------------------------------------------------------------------
    private void novoItemVenda() {
        habilitaBotoesParaEdicaoItens(true);
        cbDiscriminacaoI.requestFocus();
        operacaoItensVenda = 1;
    }

    private void editarItemVenda() {
        habilitaBotoesParaEdicaoItens(true);
        ftfConsignado.requestFocus();
    }

    private void excluirItemVenda() {
        ItemPedidoDAO dao = new ItemPedidoDAO();
        dao.excluir(itemVendaBean);
        reiniciaAbaItens();

    }

    private void salvarItemVenda() {
        //setamos o objeto EquipeBean
        setaItemVenda();
        //Instanciamos o DAO
        ItemPedidoDAO dao = new ItemPedidoDAO();
        //verifica qual será a operação de peristência a ser realizada
        if (operacaoItensVenda == 1) {
            dao.inserir(itemVendaBean);
        }
        if (operacaoItensVenda == 2) {
            dao.alterar(itemVendaBean);
        }
        habilitaBotoesParaEdicaoItens(false);
        reiniciaAbaItens();
        atualizaStatusVenda();
    }

    private void habilitaBotoesParaEdicaoItens(boolean edicao) {

        if (edicao) {
            btIncluirItem.setEnabled(false);
            btEditarItem.setEnabled(false);
            btExcluirItem.setEnabled(false);
            btSalvarItem.setEnabled(true);
            btEditProduto.setEnabled(true);
        } else {
            btIncluirItem.setEnabled(true);
            btEditarItem.setEnabled(true);
            btExcluirItem.setEnabled(true);
            btSalvarItem.setEnabled(false);
            btEditProduto.setEnabled(false);
        }
        editarCamposItens(edicao);
    }

    private void limparCamposItens() {
        ftfCodigoI.setText("");
        cbDiscriminacaoI.setSelectedIndex(0);
        ftfConsignado.setText("0");
        ftfVendido.setText("0");
        ftfDevolvido.setText("0");
        ftfVlUnitario.setText("0,00");
        ftfVlTotal.setText("0,00");
    }

    private void editarCamposItens(boolean b) {

        tbItensVenda.setEnabled(!b);
        ftfCodigoI.setEnabled(b);
        cbDiscriminacaoI.setEnabled(b);
        ftfConsignado.setEnabled(b);
        ftfVendido.setEnabled(b);
        ftfDevolvido.setEnabled(b);
        ftfVlUnitario.setEnabled(b);
    }

    private void reiniciaBotoesItens() {
        btIncluirItem.setEnabled(true);
        btEditarItem.setEnabled(false);
        btExcluirItem.setEnabled(false);
        btSalvarItem.setEnabled(false);
    }

    public void reiniciaAbaItens() {
        tbItensVenda.clearSelection();
        atualizarDadosDaTabelaItens();
        limparCamposItens();
        reiniciaBotoesItens();
        editarCamposItens(false);
        operacaoItensVenda = 0;
    }

    private void buscarItemPorCodigo() {
        Integer codigo = Integer.parseInt(ftfCodigoI.getText());
        boolean encontrado = false;
        for (int i = 0; i < produtos.size(); i++) {
            if (produtos.get(i).getId() == codigo) {
                cbDiscriminacaoI.setSelectedItem(produtos.get(i).getProduto());
                encontrado = true;
                break;
            }
        }

        if (!encontrado) {
            JOptionPane.showMessageDialog(this, "Produto não cadastrado.");
            ftfCodigoI.setText("");
            ftfCodigoI.requestFocus();
        }
    }

    private void limparDadosProdutoItem() {
        ftfCodigoI.setText("");
        ftfVlUnitario.setText("0,00");
        ftfVlTotal.setText("0,00");
    }

    private void setaProdutoItem() {

        for (int i = 0; i < produtos.size(); i++) {
            if (produtos.get(i).getProduto().equals(cbDiscriminacaoI.getSelectedItem().toString())) {
                itemVendaBean.setProduto(produtos.get(i));
                ftfCodigoI.setText(produtos.get(i).getId().toString());
                ftfVlUnitario.setText(produtos.get(i).getVlVendaStr());
                itemVendaBean.setValorCusto(produtos.get(i).getVlCompra());
                break;
            }
        }
    }

    private void setaItemVenda() {
        itemVendaBean.setConsignado(Integer.parseInt(ftfConsignado.getText()));
        itemVendaBean.setVendido(Integer.parseInt(ftfVendido.getText()));
        itemVendaBean.setDevolvido(Integer.parseInt(ftfDevolvido.getText()));
        itemVendaBean.setValorUnitario(ftfVlUnitario.getText());
        itemVendaBean.setVenda(pedidoBean);
    }

    private void calcularVenda() {
        setaItemVenda();
        ftfVlTotal.setText(itemVendaBean.getValorTotalStr());
    }

    private void carregarCbDiscriminacaoItens() {
        cbDiscriminacaoI.removeAllItems();
        cbDiscriminacaoI.addItem("");
        ProdutoDAO dao = new ProdutoDAO();
        produtos = dao.listarItensDeVenda();
        for (int i = 0; i < produtos.size(); i++) {
            cbDiscriminacaoI.addItem(produtos.get(i).getProduto());
        }
    }

    public void atualizaCbDiscriminacao() {
        produtos.clear();
        ProdutoDAO dao = new ProdutoDAO();
        produtos = dao.listarItensDeVenda();
        cbDiscriminacaoI.setSelectedIndex(0);
        //não removemos todos os itens de uma vez pois o método cbDiscriminacaoI é acionado
        //e caso não haja pelo menos 1 item lançara uma exceção.
        for (int i = cbDiscriminacaoI.getItemCount() - 1; i > 0; i--) {
            if (cbDiscriminacaoI.getItemCount() > 0) {
                cbDiscriminacaoI.removeItemAt(i);
            }
        }

        for (int i = 0; i < produtos.size(); i++) {
            cbDiscriminacaoI.addItem(produtos.get(i).getProduto());
        }
    }

    //Métodos dos componentes do cabeçalho do pedido-----------------------------------------------------------------
    private void inicializarComboBoxes() {
        carregarCbEquipe();
        carregarCbVendedor();
        carregarCbCliente();
        carregarCbDiscriminacaoItens();
        carregarCbDiscriminacaoBrindes();

    }

    private void carregarCbEquipe() {
        cbEquipe.removeAllItems();
        cbEquipe.addItem("");
        EquipeDAO dao = new EquipeDAO();
        equipes = dao.listar();
        for (int i = 0; i < equipes.size(); i++) {
            cbEquipe.addItem(equipes.get(i).getNome());
        }
    }

    private void carregarCbVendedor() {
        cbVendedor.removeAllItems();
        cbVendedor.addItem("");
        FuncionarioDAO dao = new FuncionarioDAO();
        vendedores = dao.listarAdmitidos();
        for (int i = 0; i < vendedores.size(); i++) {
            cbVendedor.addItem(vendedores.get(i).getNome());
        }
    }

    private void carregarCbVendedor(String param) {
        cbVendedor.removeAllItems();
        cbVendedor.addItem("");
        FuncionarioDAO dao = new FuncionarioDAO();
        vendedores = dao.listar();
        for (int i = 0; i < vendedores.size(); i++) {
            cbVendedor.addItem(vendedores.get(i).getNome());
        }
    }

    private void carregarCbCliente() {
        cbCliente.removeAllItems();
        cbCliente.addItem("");
        ClienteDAO dao = new ClienteDAO();
        clientes = dao.listar();
        for (int i = 0; i < clientes.size(); i++) {
            cbCliente.addItem(clientes.get(i).getNome());
        }
    }

    private void carregarCbCliente(String param) {
        cbCliente.removeAllItems();
        ClienteDAO dao = new ClienteDAO();
        clientes = dao.listar(param);
        for (int i = 0; i < clientes.size(); i++) {
            cbCliente.addItem(clientes.get(i).getNome());
        }
    }

    private void limparDadosCliente() {
        tfLogradouro.setText("");
        tfNumero.setText("");
        tfBairro.setText("");
        tfCidade.setText("");
        tfUf.setText("");
        tfCorCasa.setText("");
        tfNFrente.setText("");
        tfNLado.setText("");
        tfReferencia.setText("");
        tfApelido.setText("");
    }

    private void setaCliente() {
        for (int i = 0; i < clientes.size(); i++) {
            if (!clientes.isEmpty() && cbCliente.getItemCount() > 0) {
                if (clientes.get(i).getNome().equalsIgnoreCase(cbCliente.getSelectedItem().toString())) {
                    tfLogradouro.setText(clientes.get(i).getLogradouro());
                    tfNumero.setText(clientes.get(i).getNumero());
                    tfBairro.setText(clientes.get(i).getBairro());
                    tfCidade.setText(clientes.get(i).getCidade().getCidade());
                    tfUf.setText(clientes.get(i).getCidade().getUf());
                    tfCorCasa.setText(clientes.get(i).getCorCasa());
                    tfNFrente.setText(clientes.get(i).getNumeroCasaFrente());
                    tfNLado.setText(clientes.get(i).getNumeroCasaLado());
                    tfReferencia.setText(clientes.get(i).getPontoReferencia());
                    tfApelido.setText(clientes.get(i).getApelido());
                    tfTelefone.setText(clientes.get(i).getTelefone());
                    tfCelular.setText(clientes.get(i).getCelular());
                    pedidoBean.setCliente(clientes.get(i));
                    break;
                }
            }
        }
    }

    public void setaCliente(ClienteBean c) {
        tfLogradouro.setText(c.getLogradouro());
        tfNumero.setText(c.getNumero());
        tfBairro.setText(c.getBairro());
        tfCidade.setText(c.getCidade().getCidade());
        tfUf.setText(c.getCidade().getUf());
        tfCorCasa.setText(c.getCorCasa());
        tfNFrente.setText(c.getNumeroCasaFrente());
        tfNLado.setText(c.getNumeroCasaLado());
        tfReferencia.setText(c.getPontoReferencia());
        tfApelido.setText(c.getApelido());
        pedidoBean.setCliente(c);
        cbCliente.removeAllItems();
        cbCliente.addItem(c.getNome());
    }

    private void setaEquipe() {
        for (int i = 0; i < equipes.size(); i++) {
            if (equipes.get(i).getNome().equalsIgnoreCase(cbEquipe.getSelectedItem().toString())) {
                pedidoBean.setEquipe(equipes.get(i));
                break;
            }
        }
    }

    private void setaVendedor() {
        if (cbVendedor.getSelectedIndex() != 0) {
            for (int i = 0; i < vendedores.size(); i++) {
                if (vendedores.get(i).getNome().equalsIgnoreCase(cbVendedor.getSelectedItem().toString())) {
                    pedidoBean.setVendedor(vendedores.get(i));
                    break;
                }
            }
        }
    }

    private void inicializarTela(PedidoBean pedido) {
        formatarJFormattedTextField();
        inicializarComboBoxes();
        abrirPedido(pedido);
        /*if (!Controle.checarVencimento()) {
         btSalvarPedido.setEnabled(false);
         habilitaBotoesParaEdicaoItens(false);
         habilitaBotoesParaEdicaobrindes(false);
         }*/
        if (!btPerda.getText().equals("Perda")) {
            lbPerda.setVisible(true);
            cbPerda.setVisible(true);
        } else {
            lbPerda.setVisible(false);
            cbPerda.setVisible(false);
        }
    }

    private void formatarJFormattedTextField() {
        //Faz com que toda vez que um formattedTextField receba focus selecione seu conteúdo
        KeyboardFocusManager.getCurrentKeyboardFocusManager().addPropertyChangeListener("permanentFocusOwner", new PropertyChangeListener() {
            public void propertyChange(final PropertyChangeEvent e) {
                if (e.getNewValue() instanceof JFormattedTextField) {
                    SwingUtilities.invokeLater(new Runnable() {
                        public void run() {
                            JFormattedTextField formattedTextField = (JFormattedTextField) e.getNewValue();
                            formattedTextField.selectAll();
                        }
                    });
                }
            }
        });
    }

    private void abrirPedido(PedidoBean p) {
        inicializarTabelaDeItens();
        inicializarTabelaDeBrindes();
        //se for um novo pedido setamos Alteração codigo 2 no atributo codAcao
        if (p != null) {
            pedidoBean = p;
            preencherCampos();
            atualizarDadosDaTabelaItens();
            atualizarDadosDaTabelaBrindes();
            aud.setCodAcao(2);
            //se não setamos 1 Cadastro
        } else {
            statusPedidoBean.setStatusVenda(6, "SEM ITENS DE VENDA");
            pedidoBean.setStatus(statusPedidoBean);
            aud.setCodAcao(1);
            aud.setCodStatus(6);
        }
        //setamos também aqui o usuário
        aud.setCodUsuario(Controle.usuario.getId());
    }

    private void preencherCampos() {
        tfNumeroPedido.setText(pedidoBean.getId().toString());
        cbEquipe.setSelectedItem(pedidoBean.getEquipe().getNome());
        cbVendedor.setSelectedItem(pedidoBean.getVendedor().getNome());
        cbCliente.setSelectedItem(pedidoBean.getCliente().getNome());
        tfStatus.setText(pedidoBean.getStatus().getStatus());
        ftfDataEntrega.setText(pedidoBean.getDataEntregaStr());
        ftfDataVencimento.setText(pedidoBean.getDataVencimentoStr());
        ftfDesconto.setText(pedidoBean.getDescontoSTR());
        tfVlTotalPedido.setText(pedidoBean.getValorPedidoSTR());
        ftfValorRecebido.setText(pedidoBean.getValorRecebidoSTR());
        if (pedidoBean.getValorRecebido().doubleValue() > 0 && pedidoBean.getVlParcela01().doubleValue() == 0) {
            ftfvlparcela1.setText(pedidoBean.getValorRecebidoSTR());
        } else {
            ftfvlparcela1.setText(pedidoBean.getVlParcela01Str());
        }
        ftfvlparcela2.setText(pedidoBean.getVlParcela02Str());
        ftfvlparcela3.setText(pedidoBean.getVlParcela03Str());
        ftfvlparcela4.setText(pedidoBean.getVlParcela04Str());
        ftfvlparcela5.setText(pedidoBean.getVlParcela05Str());
        ftfvlparcela6.setText(pedidoBean.getVlParcela06Str());
        ftfvlparcela7.setText(pedidoBean.getVlParcela07Str());
        ftfvlparcela8.setText(pedidoBean.getVlParcela08Str());
        ftfvlparcela9.setText(pedidoBean.getVlParcela09Str());
        ftfvlparcela10.setText(pedidoBean.getVlParcela10Str());
        ftfvlparcela11.setText(pedidoBean.getVlParcela11Str());
        ftfvlparcela12.setText(pedidoBean.getVlParcela12Str());
        ftfvlparcela13.setText(pedidoBean.getVlParcela13Str());
        ftfvlparcela14.setText(pedidoBean.getVlParcela14Str());
        ftfvlparcela15.setText(pedidoBean.getVlParcela15Str());
        ftfdtparcela1.setText(pedidoBean.getDtParcela01Str());
        ftfdtparcela2.setText(pedidoBean.getDtParcela02Str());
        ftfdtparcela3.setText(pedidoBean.getDtParcela03Str());
        ftfdtparcela4.setText(pedidoBean.getDtParcela04Str());
        ftfdtparcela5.setText(pedidoBean.getDtParcela05Str());
        ftfdtparcela6.setText(pedidoBean.getDtParcela06Str());
        ftfdtparcela7.setText(pedidoBean.getDtParcela07Str());
        ftfdtparcela8.setText(pedidoBean.getDtParcela08Str());
        ftfdtparcela9.setText(pedidoBean.getDtParcela09Str());
        ftfdtparcela10.setText(pedidoBean.getDtParcela10Str());
        ftfdtparcela11.setText(pedidoBean.getDtParcela11Str());
        ftfdtparcela12.setText(pedidoBean.getDtParcela12Str());
        ftfdtparcela13.setText(pedidoBean.getDtParcela13Str());
        ftfdtparcela14.setText(pedidoBean.getDtParcela14Str());
        ftfdtparcela15.setText(pedidoBean.getDtParcela15Str());
        if (pedidoBean.getStatus().getId() == 5) {
            cbPerda.setVisible(true);
        } else {
            cbPerda.setVisible(false);
        }
    }

    private void atualizaStatusVenda() {

        String status = tfStatus.getText();
        BigDecimal vlPedido = new BigDecimal(Utilidades.formataFlutuante(tfVlTotalPedido.getText()));

        BigDecimal recebido = new BigDecimal(Utilidades.formataFlutuante(ftfValorRecebido.getText()));
        BigDecimal desconto = new BigDecimal(Utilidades.formataFlutuante(ftfDesconto.getText()));
        BigDecimal vlbrindeProduto = new BigDecimal(Utilidades.formataFlutuante(tfVlbrindesProdutos.getText()));
        BigDecimal subtotal = new BigDecimal(0.00);
        subtotal = subtotal.add(recebido);
        subtotal = subtotal.add(desconto);
        subtotal = subtotal.add(vlbrindeProduto);

        Integer consignado = Integer.parseInt(tfTotalConsignado.getText());
        Integer vendido = Integer.parseInt(tfTotalVendido.getText());
        Integer devolvido = Integer.parseInt(tfTotalDevolvidos.getText());

        if (status.equals("PERDIDO")) {
            if (status.equals("PERDIDO")) {
                tfStatus.setForeground(Color.RED);
                btPerda.setText("Recuperar");
                btPerda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-to.png")));
                btPerda.setEnabled(true);
                Integer cdMotivo = pedidoDAO.localizarMotivoPerda(pedidoBean.getId());

                MotivoPerdaBean m = new MotivoPerdaBean();

                if (cdMotivo == 1) {
                    m.setId(1);
                    m.setMotivo("Desconhecido");
                    cbPerda.setSelectedItem("Desconhecido");
                }

                if (cdMotivo == 2) {
                    m.setId(2);
                    m.setMotivo("Mudança");
                    cbPerda.setSelectedItem("Mudança");
                }

                if (cdMotivo == 3) {
                    m.setId(3);
                    m.setMotivo("Doença");
                    cbPerda.setSelectedItem("Doença");
                }

                if (cdMotivo == 4) {
                    m.setId(4);
                    m.setMotivo("Calote");
                    cbPerda.setSelectedItem("Calote");
                }

                if (cdMotivo == 5) {
                    m.setId(5);
                    m.setMotivo("Avalista");
                    cbPerda.setSelectedItem("Avalista");
                }

                if (cdMotivo == 6) {
                    m.setId(6);
                    m.setMotivo("Falecimento");
                    cbPerda.setSelectedItem("Falecimento");
                }
                pedidoBean.setMotivoPerda(m);
            }
        } else {
            btPerda.setEnabled(false);
            btPerda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-full.png")));

            if (subtotal.doubleValue() == 0) {
                if (devolvido == 0) {
                    status = "CONSIGNADO";
                    statusPedidoBean.setStatusVenda(1, status);
                    tfStatus.setForeground(Color.ORANGE);
                    btPerda.setEnabled(true);
                    aud.setCodStatus(1);
                } else {
                    status = "PENDENTE";
                    statusPedidoBean.setStatusVenda(2, status);
                    tfStatus.setForeground(Color.MAGENTA);
                    aud.setCodStatus(2);
                }
            }

            if (subtotal.doubleValue() > 0 && subtotal.doubleValue() != vlPedido.doubleValue()) {
                status = "PENDENTE";
                statusPedidoBean.setStatusVenda(2, status);
                tfStatus.setForeground(Color.MAGENTA);
                aud.setCodStatus(2);
            }

            if (subtotal.doubleValue() == (vlPedido.doubleValue() + vlbrindeProduto.doubleValue()) && subtotal.doubleValue() != 0 && vlPedido.doubleValue() != 0) {
                if (consignado == 0) {
                    status = "CONCLUÍDO";
                    statusPedidoBean.setStatusVenda(3, status);
                    tfStatus.setForeground(Color.BLUE);
                    aud.setCodStatus(3);
                } else {
                    tfStatus.setForeground(Color.MAGENTA);
                    status = "PENDENTE";
                    tfStatus.setText(status);
                    statusPedidoBean.setStatusVenda(2, status);
                    aud.setCodStatus(2);
                    if (JOptionPane.showConfirmDialog(this, "O pedido já foi quitado. Deseja transferir os itens consignados para vendidos e concluir o pedido"
                            + "?", null, JOptionPane.OK_CANCEL_OPTION) == 0) {
                        ItemPedidoDAO dao = new ItemPedidoDAO();
                        dao.transferirConsignadosParaVendidos(itensPedido);
                        atualizarDadosDaTabelaItens();
                        status = "CONCLUÍDO";
                        statusPedidoBean.setStatusVenda(3, status);
                        tfStatus.setForeground(Color.BLUE);
                        aud.setCodStatus(3);
                    }
                }
            }
            if (consignado + vendido == 0 && devolvido > 0) {
                status = "DEVOLVIDO";
                statusPedidoBean.setStatusVenda(4, status);
                tfStatus.setForeground(Color.GREEN);
                btPerda.setEnabled(false);
                aud.setCodStatus(4);
            }
            if (itensPedido.isEmpty() && brindesPedido.isEmpty()) {
                status = "SEM ITENS DE VENDA";
                statusPedidoBean.setStatusVenda(6, status);
                tfStatus.setForeground(Color.BLACK);
                btPerda.setEnabled(false);
                aud.setCodStatus(6);
            }
        }

        if (!status.equalsIgnoreCase(tfStatus.getText())) {
            tfStatus.setText(status);
            if (!tfNumeroPedido.getText().isEmpty()) {
                pedidoBean.setId(Integer.parseInt(tfNumeroPedido.getText()));
                pedidoBean.setStatus(statusPedidoBean);
                pedidoDAO.atualizaStatusVenda(pedidoBean);
            }
        }
    }

    private void novoPedido() {
        limparDadosDoPedido();
        btNovo.setEnabled(false);
        aud.setCodAcao(1);//setamos como Cadastro
    }

    private void SalvarPedido() {
        if (validarDados()) {

            setaEquipe();
            setaVendedor();
            setaCliente();
            pedidoBean.setDataEntrega(ftfDataEntrega.getText());
            pedidoBean.setDataVencimento(ftfDataVencimento.getText());
            pedidoBean.setValorPedido(tfVlTotalPedido.getText());
            pedidoBean.setValorRecebido(ftfValorRecebido.getText());
            pedidoBean.setDesconto(ftfDesconto.getText());
            pedidoBean.setValorBrindeSTR(tfVlbrindesProdutos.getText());
            pedidoBean.setVlParcela01(ftfvlparcela1.getText());
            pedidoBean.setVlParcela02(ftfvlparcela2.getText());
            pedidoBean.setVlParcela03(ftfvlparcela3.getText());
            pedidoBean.setVlParcela04(ftfvlparcela4.getText());
            pedidoBean.setVlParcela05(ftfvlparcela5.getText());
            pedidoBean.setVlParcela06(ftfvlparcela6.getText());
            pedidoBean.setVlParcela07(ftfvlparcela7.getText());
            pedidoBean.setVlParcela08(ftfvlparcela8.getText());
            pedidoBean.setVlParcela09(ftfvlparcela9.getText());
            pedidoBean.setVlParcela10(ftfvlparcela10.getText());
            pedidoBean.setVlParcela11(ftfvlparcela11.getText());
            pedidoBean.setVlParcela12(ftfvlparcela12.getText());
            pedidoBean.setVlParcela13(ftfvlparcela13.getText());
            pedidoBean.setVlParcela14(ftfvlparcela14.getText());
            pedidoBean.setVlParcela15(ftfvlparcela15.getText());
            pedidoBean.setDtParcela01(ftfdtparcela1.getText());
            pedidoBean.setDtParcela02(ftfdtparcela2.getText());
            pedidoBean.setDtParcela03(ftfdtparcela3.getText());
            pedidoBean.setDtParcela04(ftfdtparcela4.getText());
            pedidoBean.setDtParcela05(ftfdtparcela5.getText());
            pedidoBean.setDtParcela06(ftfdtparcela6.getText());
            pedidoBean.setDtParcela07(ftfdtparcela7.getText());
            pedidoBean.setDtParcela08(ftfdtparcela8.getText());
            pedidoBean.setDtParcela09(ftfdtparcela9.getText());
            pedidoBean.setDtParcela10(ftfdtparcela10.getText());
            pedidoBean.setDtParcela11(ftfdtparcela11.getText());
            pedidoBean.setDtParcela12(ftfdtparcela12.getText());
            pedidoBean.setDtParcela13(ftfdtparcela13.getText());
            pedidoBean.setDtParcela14(ftfdtparcela14.getText());
            pedidoBean.setDtParcela15(ftfdtparcela15.getText());
            setaMotivoPerda();

            if (pedidoBean.getId() == null) {
                pedidoBean.setId(pedidoDAO.inserir(pedidoBean));
                tfNumeroPedido.setText(pedidoBean.getId().toString());
                tfStatus.setText(pedidoBean.getStatus().getStatus());
                tfStatus.setForeground(Color.BLACK);
                JOptionPane.showMessageDialog(this, "Preencha na nota de venda: \nNúmero do Pedido: " + pedidoBean.getId() + "\nCódigo do cliente: " + pedidoBean.getCliente().getId());
                btPerda.setEnabled(false);
                aud.setCodStatus(6);
            } else {
                pedidoDAO.alterar(pedidoBean);
                JOptionPane.showMessageDialog(this, "As alterações de dados do Pedido foram salvas com sucesso!");
                if (Controle.frmPedidos != null) {
                    Controle.frmPedidos.reiniciaTela();
                }
                if (Controle.frmVendasPorCliente != null) {
                    Controle.frmVendasPorCliente.reiniciaTela();
                }
                btPerda.setEnabled(true);
            }
            btNovo.setEnabled(true);

            gravarParaAuditar();
        }
    }

    private void atualizaDesconto() {
        pedidoBean.setDesconto(ftfDesconto.getText());
        pedidoDAO.atualizarComissao(pedidoBean);
    }

    private void atualizaValorPedido() {
        pedidoBean.setValorPedido(tfVlTotalPedido.getText());
        pedidoBean.setValorBrindeSTR(tfVlbrindesProdutos.getText());
        pedidoDAO.atualizaValorPedido(pedidoBean);
    }

    private void atualizaValorRecebido() {
        pedidoBean.setValorRecebido(ftfValorRecebido.getText());
        pedidoDAO.atualizaValorRecebido(pedidoBean);
    }

    private void limparDadosDoPedido() {
        tfNumeroPedido.setText("");
        cbEquipe.setSelectedIndex(0);
        cbVendedor.setSelectedIndex(0);
        cbCliente.setSelectedIndex(0);
        tfLogradouro.setText("");
        tfNumero.setText("");
        tfBairro.setText("");
        tfCidade.setText("");
        tfUf.setText("");
        ftfDataEntrega.setText("");
        ftfDataVencimento.setText("");
        tfStatus.setText("");
        ftfDesconto.setText("0,00");
        tfVlTotalPedido.setText("0,00");
        ftfValorRecebido.setText("0,00");
        pedidoBean = null;
        pedidoBean = new PedidoBean();
        statusPedidoBean.setStatusVenda(6, "SEM ITENS DE VENDA");
        pedidoBean.setStatus(statusPedidoBean);
        tfTotalConsignado.setText("0");
        tfVlTotalConsignado.setText("0,00");
        tfTotalVendido.setText("0");
        tfVlTotalVendido.setText("0,00");
        tfTotalDevolvidos.setText("0");
        tfVlTotalDevolvido.setText("0,00");
        tfTotalBrindes.setText("0");
        tfVlTotalBrindes.setText("0,00");
        tfSubtotal.setText("0,00");
        tfVlTotalPedido.setText("0,00");
        tfVlbrindesProdutos.setText("0,00");
        ftfDesconto.setText("0,00");
        ftfValorRecebido.setText("0,00");
        ftfvlparcela1.setText("0,00");
        ftfvlparcela2.setText("0,00");
        ftfvlparcela3.setText("0,00");
        ftfvlparcela4.setText("0,00");
        ftfvlparcela5.setText("0,00");
        ftfvlparcela6.setText("0,00");
        ftfvlparcela7.setText("0,00");
        ftfvlparcela8.setText("0,00");
        ftfvlparcela9.setText("0,00");
        ftfdtparcela1.setText("");
        ftfdtparcela2.setText("");
        ftfdtparcela3.setText("");
        ftfdtparcela4.setText("");
        ftfdtparcela5.setText("");
        ftfdtparcela6.setText("");
        ftfdtparcela7.setText("");
        ftfdtparcela8.setText("");
        ftfdtparcela9.setText("");
        limparCamposBrinde();
        limparCamposItens();
        limparDadosProdutoItem();
        limparTabelaDeBrindes();
        limparTabelaDeItens();
    }

    private void calculaValorPedido() {
        BigDecimal valorTotalConsignados = new BigDecimal(Utilidades.formataFlutuante(tfVlTotalConsignado.getText()));
        BigDecimal valorTotalVendidos = new BigDecimal(Utilidades.formataFlutuante(tfVlTotalVendido.getText()));
        BigDecimal valorTotalNota = new BigDecimal(0.00);

        valorTotalNota = valorTotalNota.add(valorTotalConsignados);
        valorTotalNota = valorTotalNota.add(valorTotalVendidos);

        tfVlTotalPedido.setText(Utilidades.formataMontetarioSTR(valorTotalNota));

        BigDecimal valorBrindesProdutos = new BigDecimal(Utilidades.formataFlutuante(tfVlbrindesProdutos.getText()));
        BigDecimal desconto = new BigDecimal(Utilidades.formataFlutuante(ftfDesconto.getText()));
        BigDecimal recebido = new BigDecimal(Utilidades.formataFlutuante(ftfValorRecebido.getText()));
        BigDecimal subtotal = new BigDecimal(0.00);

        subtotal = subtotal.add(recebido);
        subtotal = subtotal.add(desconto);
        subtotal = subtotal.add(valorBrindesProdutos);

        tfSubtotal.setText(Utilidades.formataMontetarioSTR(subtotal));

        atualizaValorPedido();
        atualizaDesconto();
        atualizaValorRecebido();
        atualizaStatusVenda();
    }

    private boolean validarDados() {
        if (ftfDataEntrega.getText().equals("  /  /    ")) {
            JOptionPane.showMessageDialog(this, "Informe a data de Entrega", null, JOptionPane.WARNING_MESSAGE);
            return false;
        }
        if (ftfDataVencimento.getText().equals("  /  /    ")) {
            JOptionPane.showMessageDialog(this, "Informe a data de Vencimento", null, JOptionPane.WARNING_MESSAGE);
            return false;
        }
        return true;
    }

    private void registrarPerda() {
        int opcao = 0;
        if (btPerda.getText().equals("Perda")) {
            opcao = JOptionPane.showConfirmDialog(this, "Deseja registrar a perda destes produtos consignados?", null, JOptionPane.OK_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);
            if (opcao == 0) {
                tfStatus.setText("PERDIDO");
                statusPedidoBean.setStatusVenda(5, "PERDIDO");
                pedidoBean.setStatus(statusPedidoBean);
                tfStatus.setForeground(Color.RED);
                btPerda.setText("Recuperar");
                btPerda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-to.png")));
                pedidoBean.setId(Integer.parseInt(tfNumeroPedido.getText()));
                lbPerda.setVisible(true);
                cbPerda.setVisible(true);
                aud.setCodStatus(5);
                SalvarPedido();
            }
        } else {
            opcao = JOptionPane.showConfirmDialog(this, "Deseja recuperar estes produtos registrados como consigandos perdidos?", null, JOptionPane.OK_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);
            if (opcao == 0) {
                tfStatus.setText("CONSIGNADO");
                statusPedidoBean.setStatusVenda(1, "CONSIGNADO");
                pedidoBean.setStatus(statusPedidoBean);
                tfStatus.setForeground(Color.ORANGE);
                btPerda.setText("Perda");
                btPerda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/br/com/devmax/sisgvc/visao/img/cart-full.png")));
                pedidoBean.setId(Integer.parseInt(tfNumeroPedido.getText()));
                lbPerda.setVisible(false);
                cbPerda.setVisible(false);
                aud.setCodStatus(1);
                SalvarPedido();
            }
        }
    }

    private String totalizaParcelas() {
        BigDecimal total = new BigDecimal("0.00");
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela1.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela2.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela3.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela4.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela5.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela6.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela7.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela8.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela9.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela10.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela11.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela12.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela13.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela14.getText()));
        total = total.add(Utilidades.formataMonetarioSQL(ftfvlparcela15.getText()));
        return Utilidades.formataMontetarioSTR(total);
    }

    private void localizarPedido(String nrPedido) {
        pedidoBean = pedidoDAO.procurarPedido(Integer.parseInt(Utilidades.getDigitos(nrPedido)));
        abrirPedido(pedidoBean);
    }

    private void setaMotivoPerda() {
        MotivoPerdaBean m = new MotivoPerdaBean();

        if (cbPerda.getSelectedItem().toString().equals("Desconhecido")) {
            m.setId(1);
            m.setMotivo("Desconhecido");
        }

        if (cbPerda.getSelectedItem().toString().equals("Mudança")) {
            m.setId(2);
            m.setMotivo("Mudança");
        }

        if (cbPerda.getSelectedItem().toString().equals("Doença")) {
            m.setId(3);
            m.setMotivo("Doença");
        }

        if (cbPerda.getSelectedItem().toString().equals("Calote")) {
            m.setId(4);
            m.setMotivo("Calote");
        }

        if (cbPerda.getSelectedItem().toString().equals("Avalista")) {
            m.setId(5);
            m.setMotivo("Avalista");
        }

        if (cbPerda.getSelectedItem().toString().equals("Falecimento")) {
            m.setId(6);
            m.setMotivo("Falecimento");
        }

        pedidoBean.setMotivoPerda(m);
    }

    private void gravarParaAuditar() {
        aud.setCodPedido(pedidoBean.getId());
        aud.setVlBrinde(pedidoBean.getValorBrinde());
        aud.setVlPedido(pedidoBean.getValorPedido());
        aud.setVlRecebido(pedidoBean.getValorRecebido());
        java.util.Date data = new java.util.Date();
        SimpleDateFormat formatador = new SimpleDateFormat("dd/MM/yyyy");
        SimpleDateFormat horario = new SimpleDateFormat("HH:mm:ss");
        aud.setDtAcesso(Utilidades.formataDataSQL(formatador.format(data)));
        aud.setHora(horario.format(data));
        pedidoDAO.gravaAutoria(aud);
    }
}
